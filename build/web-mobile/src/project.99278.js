window.__require=function t(e,n,o){function i(r,c){if(!n[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};e[r][0].call(u.exports,function(t){return i(e[r][1][t]||t)},u,u.exports,t,e,n,o)}return n[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=l(t),n=e[0],o=e[1];return 3*(n+o)/4-o},n.toByteArray=function(t){var e,n,o=l(t),r=o[0],c=o[1],a=new s(u(t,r,c)),d=0,h=c>0?r-4:r;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],a[d++]=e>>16&255,a[d++]=e>>8&255,a[d++]=255&e;2===c&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,a[d++]=255&e);1===c&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,a[d++]=e>>8&255,a[d++]=255&e);return a},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],r=0,c=n-i;r<c;r+=16383)s.push(h(t,r,r+16383>c?c:r+16383));1===i?(e=t[n-1],s.push(o[e>>2]+o[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(o[e>>10]+o[e>>4&63]+o[e<<2&63]+"="));return s.join("")};for(var o=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,a=r.length;c<a;++c)o[c]=r[c],i[r.charCodeAt(c)]=c;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function u(t,e,n){return 3*(e+n)/4-n}function d(t){return o[t>>18&63]+o[t>>12&63]+o[t>>6&63]+o[63&t]}function h(t,e,n){for(var o,i=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),i.push(d(o));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";var o=t("base64-js"),i=t("ieee754"),s=t("isarray");function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,o){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?g(t,e,n,o):"string"==typeof e?f(t,e,n):y(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,n,o){return u(e),e<=0?c(t,e):void 0!==n?"string"==typeof o?c(t,e).fill(n,o):c(t,e).fill(n):c(t,e)}function h(t,e){if(u(e),t=c(t,e<0?0:0|v(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|_(e,n),i=(t=c(t,o)).write(e,n);return i!==o&&(t=t.slice(0,i)),t}function p(t,e){var n=e.length<0?0:0|v(e.length);t=c(t,n);for(var o=0;o<n;o+=1)t[o]=255&e[o];return t}function g(t,e,n,o){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===o?new Uint8Array(e):void 0===o?new Uint8Array(e,n):new Uint8Array(e,n,o),a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=p(t,e),t}function y(t,e){if(a.isBuffer(e)){var n=0|v(e.length);return 0===(t=c(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||$(e.length)?c(t,0):p(t,e);if("Buffer"===e.type&&s(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function _(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(t).length;default:if(o)return Y(t).length;e=(""+e).toLowerCase(),o=!0}}function b(t,e,n){var o=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return L(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return O(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(o)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function m(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function S(t,e,n,o,i){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,o)),a.isBuffer(e))return 0===e.length?-1:A(t,e,n,o,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):A(t,[e],n,o,i);throw new TypeError("val must be string, number or Buffer")}function A(t,e,n,o,i){var s,r=1,c=t.length,a=e.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(t.length<2||e.length<2)return-1;r=2,c/=2,a/=2,n/=2}function l(t,e){return 1===r?t[e]:t.readUInt16BE(e*r)}if(i){var u=-1;for(s=n;s<c;s++)if(l(t,s)===l(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===a)return u*r}else-1!==u&&(s-=s-u),u=-1}else for(n+a>c&&(n=c-a),s=n;s>=0;s--){for(var d=!0,h=0;h<a;h++)if(l(t,s+h)!==l(e,h)){d=!1;break}if(d)return s}return-1}function w(t,e,n,o){n=Number(n)||0;var i=t.length-n;o?(o=Number(o))>i&&(o=i):o=i;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");o>s/2&&(o=s/2);for(var r=0;r<o;++r){var c=parseInt(e.substr(2*r,2),16);if(isNaN(c))return r;t[n+r]=c}return r}function I(t,e,n,o){return Q(Y(e,t.length-n),t,n,o)}function C(t,e,n,o){return Q(K(e),t,n,o)}function D(t,e,n,o){return C(t,e,n,o)}function R(t,e,n,o){return Q(Z(e),t,n,o)}function E(t,e,n,o){return Q(X(e,t.length-n),t,n,o)}function O(t,e,n){return 0===e&&n===t.length?o.fromByteArray(t):o.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var o=[],i=e;i<n;){var s,r,c,a,l=t[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:128==(192&(s=t[i+1]))&&(a=(31&l)<<6|63&s)>127&&(u=a);break;case 3:s=t[i+1],r=t[i+2],128==(192&s)&&128==(192&r)&&(a=(15&l)<<12|(63&s)<<6|63&r)>2047&&(a<55296||a>57343)&&(u=a);break;case 4:s=t[i+1],r=t[i+2],c=t[i+3],128==(192&s)&&128==(192&r)&&128==(192&c)&&(a=(15&l)<<18|(63&s)<<12|(63&r)<<6|63&c)>65535&&a<1114112&&(u=a)}null===u?(u=65533,d=1):u>65535&&(u-=65536,o.push(u>>>10&1023|55296),u=56320|1023&u),o.push(u),i+=d}return P(o)}n.Buffer=a,n.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},n.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=r(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return l(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return d(null,t,e,n)},a.allocUnsafe=function(t){return h(null,t)},a.allocUnsafeSlow=function(t){return h(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,i=0,s=Math.min(n,o);i<s;++i)if(t[i]!==e[i]){n=t[i],o=e[i];break}return n<o?-1:o<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var r=t[n];if(!a.isBuffer(r))throw new TypeError('"list" argument must be an Array of Buffers');r.copy(o,i),i+=r.length}return o},a.byteLength=_,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):b.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,o,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),e<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&e>=n)return 0;if(o>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,o>>>=0,i>>>=0,this===t)return 0;for(var s=i-o,r=n-e,c=Math.min(s,r),l=this.slice(o,i),u=t.slice(e,n),d=0;d<c;++d)if(l[d]!==u[d]){s=l[d],r=u[d];break}return s<r?-1:r<s?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return S(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return S(this,t,e,n,!1)},a.prototype.write=function(t,e,n,o){if(void 0===e)o="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)o=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===o&&(o="utf8")):(o=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var s=!1;;)switch(o){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return I(this,t,e,n);case"ascii":return C(this,t,e,n);case"latin1":case"binary":return D(this,t,e,n);case"base64":return R(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function P(t){var e=t.length;if(e<=N)return String.fromCharCode.apply(String,t);for(var n="",o=0;o<e;)n+=String.fromCharCode.apply(String,t.slice(o,o+=N));return n}function L(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(127&t[i]);return o}function T(t,e,n){var o="";n=Math.min(t.length,n);for(var i=e;i<n;++i)o+=String.fromCharCode(t[i]);return o}function M(t,e,n){var o=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>o)&&(n=o);for(var i="",s=e;s<n;++s)i+=W(t[s]);return i}function B(t,e,n){for(var o=t.slice(e,n),i="",s=0;s<o.length;s+=2)i+=String.fromCharCode(o[s]+256*o[s+1]);return i}function F(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,n,o,i,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function V(t,e,n,o){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(o?i:1-i))>>>8*(o?i:1-i)}function U(t,e,n,o){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>8*(o?i:3-i)&255}function j(t,e,n,o,i,s){if(n+o>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(t,e,n,o,s){return s||j(t,0,n,4),i.write(t,e,n,o,23,4),n+4}function H(t,e,n,o,s){return s||j(t,0,n,8),i.write(t,e,n,o,52,8),n+8}a.prototype.slice=function(t,e){var n,o=this.length;if(t=~~t,e=void 0===e?o:~~e,t<0?(t+=o)<0&&(t=0):t>o&&(t=o),e<0?(e+=o)<0&&(e=0):e>o&&(e=o),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=a.prototype;else{var i=e-t;n=new a(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var o=this[t],i=1,s=0;++s<e&&(i*=256);)o+=this[t+s]*i;return o},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var o=this[t+--e],i=1;e>0&&(i*=256);)o+=this[t+--e]*i;return o},a.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var o=this[t],i=1,s=0;++s<e&&(i*=256);)o+=this[t+s]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||F(t,e,this.length);for(var o=e,i=1,s=this[t+--o];o>0&&(i*=256);)s+=this[t+--o]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||x(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,o){(t=+t,e|=0,n|=0,o)||x(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):U(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);x(this,t,e,n,i-1,-i)}var s=0,r=1,c=0;for(this[e]=255&t;++s<n&&(r*=256);)t<0&&0===c&&0!==this[e+s-1]&&(c=1),this[e+s]=(t/r>>0)-c&255;return e+n},a.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e|=0,!o){var i=Math.pow(2,8*n-1);x(this,t,e,n,i-1,-i)}var s=n-1,r=1,c=0;for(this[e+s]=255&t;--s>=0&&(r*=256);)t<0&&0===c&&0!==this[e+s+1]&&(c=1),this[e+s]=(t/r>>0)-c&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):V(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):V(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):U(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):U(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return z(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return z(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return H(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return H(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,o){if(n||(n=0),o||0===o||(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var i,s=o-n;if(this===t&&n<e&&e<o)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},a.prototype.fill=function(t,e,n,o){if("string"==typeof t){if("string"==typeof e?(o=e,e=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!a.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var r=a.isBuffer(t)?t:Y(new a(t,o).toString()),c=r.length;for(s=0;s<n-e;++s)this[s+e]=r[s%c]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function q(t){if((t=J(t).replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function J(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function W(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){var n;e=e||1/0;for(var o=t.length,i=null,s=[],r=0;r<o;++r){if((n=t.charCodeAt(r))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(r+1===o){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function K(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function X(t,e){for(var n,o,i,s=[],r=0;r<t.length&&!((e-=2)<0);++r)o=(n=t.charCodeAt(r))>>8,i=n%256,s.push(i),s.push(o);return s}function Z(t){return o.toByteArray(q(t))}function Q(t,e,n,o){for(var i=0;i<o&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function $(t){return t!=t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e,n){var o={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==o.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,o,i){var s,r,c=8*i-o-1,a=(1<<c)-1,l=a>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=t[e+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=c;u>0;s=256*s+t[e+d],d+=h,u-=8);for(r=s&(1<<-u)-1,s>>=-u,u+=o;u>0;r=256*r+t[e+d],d+=h,u-=8);if(0===s)s=1-l;else{if(s===a)return r?NaN:1/0*(f?-1:1);r+=Math.pow(2,o),s-=l}return(f?-1:1)*r*Math.pow(2,s-o)},n.write=function(t,e,n,o,i,s){var r,c,a,l=8*s-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=o?0:s-1,p=o?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,r=u):(r=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-r))<1&&(r--,a*=2),(e+=r+d>=1?h/a:h*Math.pow(2,1-d))*a>=2&&(r++,a/=2),r+d>=u?(c=0,r=u):r+d>=1?(c=(e*a-1)*Math.pow(2,i),r+=d):(c=e*Math.pow(2,d-1)*Math.pow(2,i),r=0));i>=8;t[n+f]=255&c,f+=p,c/=256,i-=8);for(r=r<<i|c,l+=i;l>0;t[n+f]=255&r,f+=p,r/=256,l-=8);t[n+f-p]|=128*g}},{}],AFLogger:[function(t,e,n){"use strict";cc._RF.push(e,"25e69AZ0/xDH7MCLjFyNBxu","AFLogger");var o="com/zygame/utils/AFHelper";cc.Class({statics:{logEventLevel:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(o,"trackEventLevel","(I)V",t);cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppsFlyerHelper","trackEventLevel",t)},logEventWatchAds:function(t){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"trackEventWatchAD","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppsFlyerHelper","trackEventWatchAds",t)},logEventClickButton:function(t){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"trackEventClickButton","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppsFlyerHelper","trackEventClickButton",t)},logEvent:function(t,e){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"trackEvent","(Ljava/lang/String;Ljava/lang/String;)V",t,e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppsFlyerHelper","trackEvent:withValue:",t,e)}}}),cc._RF.pop()},{}],AdHelper:[function(t,e,n){"use strict";cc._RF.push(e,"68c65uC/Q5J/qrAibYnfzMi","AdHelper");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=cc.Class({statics:{initAdSdk:function(){101==CHANNEL_ID||102==CHANNEL_ID?zy.UpltvHelper.initUpltv(function(t){cc.log("===upltv init: "+t),t&&zy.UpltvHelper.setloadRdADCb()}):201==CHANNEL_ID||CHANNEL_ID},isInterstitialReady:function(t){return 101==CHANNEL_ID||102==CHANNEL_ID?zy.UpltvHelper.isInterstitialReady(t):201==CHANNEL_ID||202==CHANNEL_ID?zy.OpenAdsHelper.isIntersitialReady(t):void 0},showInterstitialAds:function(t){101==CHANNEL_ID||102==CHANNEL_ID?(zy.UpltvHelper.showInterstitial(t,null),zy.LogHelper.logEventWatchAds(t)):201!=CHANNEL_ID&&202!=CHANNEL_ID||(zy.OpenAdsHelper.showInterstitialAds(t),zy.LogHelper.logEventWatchAds(t))},isRdAdsReady:function(t){return 101==CHANNEL_ID||102==CHANNEL_ID?zy.UpltvHelper.rdADIsReady():201==CHANNEL_ID||202==CHANNEL_ID?zy.OpenAdsHelper.isRdAdsReady(t):void 0},showRdAds:function(t,e){this.gotRdCall=e,101==CHANNEL_ID||102==CHANNEL_ID?zy.UpltvHelper.rdAdShow(t):201!=CHANNEL_ID&&202!=CHANNEL_ID||zy.OpenAdsHelper.showRdAds(t),zy.AdHelper.pauseGame()},onOpenAdsReward:function(t,e){cc.log("===>js\u6536\u5230\u89c6\u9891\u6fc0\u52b1\u56de\u8c03:"+t+", "+e),cc.log("===> typeof ret: "+(void 0===e?"undefined":o(e))),this.gotRdCall&&(this.gotRdCall(e),this.gotRdCall=null),e&&zy.LogHelper.logEventWatchAds(t),zy.AdHelper.resumeGame()},pauseGame:function(){cc.game.pause(),zy.audioMng.pauseMusic()},resumeGame:function(){cc.game.resume(),zy.audioMng.resumeMusic()}}});zy.AdHelper=i,cc._RF.pop()},{}],Alert:[function(t,e,n){"use strict";cc._RF.push(e,"9f8e868rNBKE7k8hoS6RoAS","Alert"),cc.Class({extends:cc.Component,statics:{alertNode:null,show:function(t){var e=this;cc.loader.loadRes("prefabs/common/Alert",function(n,o){n||(cc.isValid(e.alertNode)&&e.alertNode.destroy(),e.alertNode=cc.instantiate(o),e.alertNode.zIndex=zy.constData.ZIndex.ALERT,e.alertNode.parent=zy.director.getUiRoot(),e.alertNode.getComponent("Alert").init(t))})}},properties:{okBtn:cc.Node,cancleBtn:cc.Node,contentLabel:cc.Label},init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:"",okText:"",cancleText:null,okCb:null,cancleCb:null};this.contentLabel.string=t.text,this.okBtn.active=!!t.okText,this.okBtn.getComponentInChildren(cc.Label).string=t.okText?t.okText:i18n.t("btn_ok"),this.cancleBtn.active=!!t.cancleText,this.cancleBtn.getComponentInChildren(cc.Label).string=t.cancleText?t.cancleText:i18n.t("btn_cancle"),this.okCb=t.okCb,this.cancleCb=t.cancleCb,this.contentLabel._forceUpdateRenderData(!0),this.contentLabel.node.width>400&&(this.contentLabel.overflow=cc.Label.Overflow.SHRINK,this.contentLabel.node.width=400,this.contentLabel.node.height=260,this.contentLabel.horizontalAlign=cc.Label.HorizontalAlign.LEFT)},confirmCallback:function(){this.okCb&&this.okCb(),this.closeCallback()},cancleCallback:function(){this.cancleCb&&this.cancleCb(),this.closeCallback()},closeCallback:function(){this.node.destroy()},clean:function(){this.node.destroy()}}),cc._RF.pop()},{}],Algo:[function(t,e,n){"use strict";cc._RF.push(e,"d18ccVTPSlPKasd+dtGaYsS","Algo");var o={cipher:function(t,e){for(var n=e.length/4-1,i=[[],[],[],[]],s=0;s<16;s++)i[s%4][Math.floor(s/4)]=t[s];i=o.addRoundKey(i,e,0,4);for(var r=1;r<n;r++)i=o.subBytes(i,4),i=o.shiftRows(i,4),i=o.mixColumns(i,4),i=o.addRoundKey(i,e,r,4);i=o.subBytes(i,4),i=o.shiftRows(i,4),i=o.addRoundKey(i,e,n,4);for(var c=new Array(16),a=0;a<16;a++)c[a]=i[a%4][Math.floor(a/4)];return c},keyExpansion:function(t){for(var e=t.length/4,n=e+6,i=new Array(4*(n+1)),s=new Array(4),r=0;r<e;r++){var c=[t[4*r],t[4*r+1],t[4*r+2],t[4*r+3]];i[r]=c}for(var a=e;a<4*(n+1);a++){i[a]=new Array(4);for(var l=0;l<4;l++)s[l]=i[a-1][l];if(a%e==0){s=o.subWord(o.rotWord(s));for(var u=0;u<4;u++)s[u]^=o.rCon[a/e][u]}else e>6&&a%e==4&&(s=o.subWord(s));for(var d=0;d<4;d++)i[a][d]=i[a-e][d]^s[d]}return i},subBytes:function(t,e){for(var n=0;n<4;n++)for(var i=0;i<e;i++)t[n][i]=o.sBox[t[n][i]];return t},shiftRows:function(t,e){for(var n=new Array(4),o=1;o<4;o++){for(var i=0;i<4;i++)n[i]=t[o][(i+o)%e];for(var s=0;s<4;s++)t[o][s]=n[s]}return t},mixColumns:function(t,e){for(var n=0;n<4;n++){for(var o=new Array(4),i=new Array(4),s=0;s<4;s++)o[s]=t[s][n],i[s]=128&t[s][n]?t[s][n]<<1^283:t[s][n]<<1;t[0][n]=i[0]^o[1]^i[1]^o[2]^o[3],t[1][n]=o[0]^i[1]^o[2]^i[2]^o[3],t[2][n]=o[0]^o[1]^i[2]^o[3]^i[3],t[3][n]=o[0]^i[0]^o[1]^o[2]^i[3]}return t},addRoundKey:function(t,e,n,o){for(var i=0;i<4;i++)for(var s=0;s<o;s++)t[i][s]^=e[4*n+s][i];return t},subWord:function(t){for(var e=0;e<4;e++)t[e]=o.sBox[t[e]];return t},rotWord:function(t){for(var e=t[0],n=0;n<3;n++)t[n]=t[n+1];return t[3]=e,t},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]]};void 0!==e&&e.exports&&(e.exports=o),"function"==typeof define&&define.amd&&define([],function(){return o}),cc._RF.pop()},{}],Audio:[function(t,e,n){"use strict";cc._RF.push(e,"bc426H/sghBCZ8seMku3vc5","Audio");cc.Class({statics:{BGM:{MAIN:"sounds/bgm/main"},Effect:{CommonClick:"sounds/effect/common_click"},init:function(){this.curBGMUrl=null,this.curBGMClip=null,this.bgmVolume=.9,this.effVolume=1,this.bgmEnabled=!0,this.effEnabled=!0;var t=cc.sys.localStorage.getItem("bgmEnabled");null!=t&&"false"==t&&(this.bgmEnabled=!1);var e=cc.sys.localStorage.getItem("bgmVolume");null!=e&&(this.bgmVolume=parseFloat(e),cc.audioEngine.setMusicVolume(e));var n=cc.sys.localStorage.getItem("effEnabled");null!=n&&"false"==n&&(this.effEnabled=!1);var o=cc.sys.localStorage.getItem("effVolume");null!=o&&(this.effVolume=parseFloat(o),cc.audioEngine.setEffectsVolume(o))},getCurBGMUrl:function(){return this.curBGMUrl},playBGM:function(t,e){var n=this;this.curBGMUrl&&this.curBGMUrl==t&&!e||(this.curBGMUrl=t,this.bgmEnabled&&(this.curBGMClip&&this.uncache(this.curBGMClip),cc.loader.loadRes(t,cc.AudioClip,function(t,e){t||(n.curBGMClip=e,cc.audioEngine.playMusic(e,!0))})))},pauseBGM:function(){cc.audioEngine.pauseMusic()},resumeBGM:function(){cc.audioEngine.resumeMusic()},stopBGM:function(){cc.audioEngine.stopMusic()},playEffect:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.effEnabled&&cc.loader.loadRes(t,cc.AudioClip,function(t,n){t||cc.audioEngine.playEffect(n,e)})},pauseAllEffects:function(){cc.audioEngine.pauseAllEffects()},resumeAllEffects:function(){cc.audioEngine.resumeAllEffects()},stopALlEffects:function(){cc.audioEngine.stopAllEffects()},uncache:function(t){cc.audioEngine.uncache(t)},uncacheAll:function(){cc.audioEngine.uncacheAll()},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()},stopAll:function(){cc.audioEngine.stopAll()},setBGMEnabled:function(t){this.bgmEnabled!=t&&(cc.sys.localStorage.setItem("bgmEnabled",String(t)),this.bgmEnabled=t,1==this.bgmEnabled&&null!=this.curBGMUrl?this.playBGM(this.curBGMUrl,!0):this.stopBGM())},getBGMEnabled:function(){return this.bgmEnabled},setBGMVolume:function(t){this.bgmVolume!=t&&(cc.sys.localStorage.setItem("bgmVolume",t),this.bgmVolume=t,cc.audioEngine.setMusicVolume(t))},getBGMVomue:function(){return this.bgmVolume},setEffectsEnabled:function(t){this.effEnabled!=t&&(cc.sys.localStorage.setItem("effEnabled",String(t)),this.effEnabled=t,t||this.stopALlEffects())},getEffectsEnabled:function(){return this.effEnabled},setEffectsVolume:function(t){this.effVolume!=t&&(cc.sys.localStorage.setItem("effVolume",t),this.effVolume=t,cc.audioEngine.setEffectsVolume(this.effVolume))},getEffectVolume:function(){return this.effVolume},clean:function(){this.stopAll(),this.uncacheAll(),this.curBGMUrl=null,this.curBGMClip=null}}}),cc._RF.pop()},{}],ButtonSafe:[function(t,e,n){"use strict";cc._RF.push(e,"8e42eou+C1Nna+T44ZKvKRT","ButtonSafe"),cc.Class({extends:cc.Component,properties:{safeTime:{default:.5,tooltip:"\u6309\u94ae\u4fdd\u62a4\u65f6\u95f4\uff0c\u6307\u5b9a\u95f4\u9694\u5185\u53ea\u80fd\u70b9\u51fb\u4e00\u6b21."}},start:function(){var t=this,e=this.getComponent(cc.Button);e&&(this.clickEvents=e.clickEvents,this.node.on("click",function(){e.clickEvents=[],t.scheduleOnce(function(n){e.clickEvents=t.clickEvents},t.safeTime)},this))}}),cc._RF.pop()},{}],Button:[function(t,e,n){"use strict";cc._RF.push(e,"cab9bUXOXBDk6Oo/t2eesSG","Button");var o={},i=function(t,e,n,o,i,s,r,c,a,l,u,d,h,f,p,g){this.m00=t,this.m01=e,this.m02=n,this.m03=o,this.m04=i,this.m05=s,this.m06=r,this.m07=c,this.m08=a,this.m09=l,this.m10=u,this.m11=d,this.m12=h,this.m13=f,this.m14=p,this.m15=g};o.create=function(){return new i(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},o.invert=function(t,e){var n=e.m00,o=e.m01,i=e.m02,s=e.m03,r=e.m04,c=e.m05,a=e.m06,l=e.m07,u=e.m08,d=e.m09,h=e.m10,f=e.m11,p=e.m12,g=e.m13,y=e.m14,v=e.m15,_=n*c-o*r,b=n*a-i*r,m=n*l-s*r,S=o*a-i*c,A=o*l-s*c,w=i*l-s*a,I=u*g-d*p,C=u*y-h*p,D=u*v-f*p,R=d*y-h*g,E=d*v-f*g,O=h*v-f*y,k=_*O-b*E+m*R+S*D-A*C+w*I;return k?(k=1/k,t.m00=(c*O-a*E+l*R)*k,t.m01=(i*E-o*O-s*R)*k,t.m02=(g*w-y*A+v*S)*k,t.m03=(h*A-d*w-f*S)*k,t.m04=(a*D-r*O-l*C)*k,t.m05=(n*O-i*D+s*C)*k,t.m06=(y*m-p*w-v*b)*k,t.m07=(u*w-h*m+f*b)*k,t.m08=(r*E-c*D+l*I)*k,t.m09=(o*D-n*E-s*I)*k,t.m10=(p*A-g*m+v*_)*k,t.m11=(d*m-u*A-f*_)*k,t.m12=(c*C-r*R-a*I)*k,t.m13=(n*R-o*C+i*I)*k,t.m14=(g*b-p*S-y*_)*k,t.m15=(u*S-d*b+h*_)*k,t):null};var s={transformMat4:function(t,e,n){var o=e.x,i=e.y;return t.x=n.m00*o+n.m04*i+n.m12,t.y=n.m01*o+n.m05*i+n.m13,t}},r={mat4:o,vec2:s},c=r.mat4.create(),a=cc.Class({extends:cc.Button,statics:{createNode:function(t){var e=new cc.Node;return e.addComponent(zy.Sprite),zy.Sprite.updateNode(e,t),e.addComponent(zy.Button),zy.Button.updateNode(e,t),e},updateNode:function(t,e){var n=t.getComponent(zy.Button);n||(n=t.getComponent(cc.Button));var o=e.eventHandler;if(e.hasOwnProperty("touchAction")&&(n.touchAction=e.touchAction),e.hasOwnProperty("commonClickAudio")&&(n.commonClickAudio=e.commonClickAudio),o){var i=new cc.Component.EventHandler;i.target=o.target,i.component=o.component,i.customEventData=o.customEventData,i.handler=o.handler,n.clickEvents.push(i)}e.hasOwnProperty("enableAutoGrayEffect")&&(n.enableAutoGrayEffect=e.enableAutoGrayEffect),e.hasOwnProperty("interactable")&&(n.interactable=e.interactable),zy.Node.updateNode(t,e)}},properties:{touchAction:{override:!0,default:!0,tooltip:"display custom action"},commonClickAudio:{default:!0,tooltip:"common click audio"},isPolygonCollider:{default:!1,tooltip:"is polygon collider"},polygonPoints:{visible:function(){return!0===this.isPolygonCollider},tooltip:!1,default:function(){return[]},type:[cc.Vec2]},brightTargets:{default:function(){return[]},type:[cc.Node]}},onLoad:function(){this.touchScaleAction=null,this.touchScaleRatio=.8},_polygonCheckRect:function(t){var e=this.node.convertToNodeSpaceAR(t);if(e.x<-this.node.width/2||e.x>this.node.width/2||e.y<-this.node.height/2||e.y>this.node.height/2)return!1;var n=void 0,o=void 0,i=!1,s=this.polygonPoints.length;for(n=0,o=s-1;n<s;o=n++)this.polygonPoints[n].y>e.y!=this.polygonPoints[o].y>e.y&&e.x<(this.polygonPoints[o].x-this.polygonPoints[n].x)*(e.y-this.polygonPoints[n].y)/(this.polygonPoints[o].y-this.polygonPoints[n].y)+this.polygonPoints[n].x&&(i=!i);return i},_polygonCheckIn:function(t){return!this.isPolygonCollider||this.polygonPoints.length<=2||this._polygonCheckRect(t)},_hitTest:function(t,e){var n=this._contentSize.width,o=this._contentSize.height,i=cc.v2(),s=cc.v2(),a=cc.Camera.findCamera(this);a?a.getScreenToWorldPoint(t,i):i.set(t),this._updateWorldMatrix(),r.mat4.invert(c,this._worldMatrix),r.vec2.transformMat4(s,i,c),s.x+=this._anchorPoint.x*n,s.y+=this._anchorPoint.y*o;var l=0,u=0,d=this.getComponent(cc.Button);if(d&&d.touchAction&&d._pressed){var h=n*d.nodeScaleX*(1-d.touchScaleRatio)/2,f=o*d.nodeScaleY*(1-d.touchScaleRatio)/2;l-=h,u-=f,n+=h,o+=f}if(s.x>=l&&s.y>=u&&s.x<=n&&s.y<=o){if(e&&e.mask){for(var p=e.mask,g=this,y=0;g&&y<p.index;++y,g=g.parent);if(g===p.node){var v=g.getComponent(cc.Mask);return!v||!v.enabledInHierarchy||v._hitTest(i)}return e.mask=null,!0}return!0}return!1},_onTouchBegan:function(t){this._super(t),this.interactable&&this.enabledInHierarchy&&(this._setBrightEffect(!0),this.touchAction&&(this.touchScaleAction?(this.node.stopAction(this.touchScaleAction),this.node.scaleX=this.nodeScaleX,this.node.scaleY=this.nodeScaleY):(this.nodeScaleX=this.node.scaleX,this.nodeScaleY=this.node.scaleY),this.touchScaleAction=cc.sequence(cc.scaleTo(.08,this.touchScaleRatio*this.nodeScaleX,this.touchScaleRatio*this.nodeScaleY),cc.callFunc(function(){this.touchScaleAction=null}.bind(this))),this.node.runAction(this.touchScaleAction)))},_onTouchMove:function(t){this._super(t),this.interactable&&this.enabledInHierarchy&&this._pressed},_onTouchEnded:function(t){this.commonClickAudio&&zy.audio.playEffect(zy.audio.Effect.CommonClick),this.interactable&&this.enabledInHierarchy?(this._setBrightEffect(!1),this._pressed&&(cc.Component.EventHandler.emitEvents(this.clickEvents,t),this.node.emit("click",this)),this._pressed=!1,this._updateState(),t.stopPropagation(),this._endTouchScaleAction()):this._resetScale()},_onTouchCancel:function(){this._setBrightEffect(!1),this._super(),this.interactable&&this.enabledInHierarchy?this._endTouchScaleAction():this._resetScale()},_resetScale:function(){this.touchAction&&(this.touchScaleAction&&(this.node.stopAction(this.touchScaleAction),this.touchScaleAction=null),this.nodeScaleX&&this.nodeScaleY&&(this.node.scaleX=this.nodeScaleX,this.node.scaleY=this.nodeScaleY))},_endTouchScaleAction:function(){this.touchAction&&(this.touchScaleAction&&(this.node.stopAction(this.touchScaleAction),this.node.scaleX=this.nodeScaleX*this.touchScaleRatio,this.node.scaleY=this.nodeScaleY*this.touchScaleRatio,this.touchScaleAction=null),this.touchScaleAction=cc.sequence(cc.scaleTo(.08,1.1*this.nodeScaleX,1.1*this.nodeScaleY),cc.scaleTo(.08,.9*this.nodeScaleX,.9*this.nodeScaleY),cc.scaleTo(.08,1*this.nodeScaleX,1*this.nodeScaleY),cc.callFunc(function(){this.touchScaleAction=null}.bind(this))),this.node.runAction(this.touchScaleAction))},_setBrightEffect:function(t){if(0!=this.brightTargets.length){var e=t?zy.shaderUtils.Effect.Bright:zy.shaderUtils.Effect.Normal;for(var n in this.brightTargets){var o=this.brightTargets[n];if(o.getComponent(cc.Sprite)){var i=o.getComponent(cc.Sprite),s=i.getState();t&&1!=s?zy.shaderUtils.setShader(i,e):i.setState(s)}else if(o.getComponent(sp.Skeleton)){var r=o.getComponent(sp.Skeleton);zy.shaderUtils.setShader(r,e)}}}},onDisable:function(){this._super(),this.touchAction&&this._resetScale()}});zy.Button=e.exports=a,cc._RF.pop()},{}],CSVParser:[function(t,e,n){"use strict";cc._RF.push(e,"aab19B0yLhC7JV+rBaX1XJH","CSVParser");var o={DefaultOptions:{delim:",",quote:'"',rowdelim:"\n"}};function i(t){this.message=t,Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee)}function s(t,e){if(this.str=t,this.options=o.DefaultOptions,e){if(e.delim=e.delim||o.DefaultOptions.delim,e.quote=e.quote||o.DefaultOptions.quote,1!=e.quote.length)throw new RangeError("options.quote should be only 1 char");e.rowdelim=e.rowdelim||o.DefaultOptions.rowdelim,this.options=e}this.pos=0,this.endpos=t.length,this.lineNo=1}function r(t,e){for(var n=0,o=t.indexOf(e);o>0;)n++,o=t.indexOf(e,o+e.length);return n}i.prototype=new Error,i.prototype.constructor=i,i.prototype.name="CSVSyntaxError","[object Error]"==(new Error).toString()&&(i.prototype.toString=function(){return this.name+": "+this.message}),s.prototype.next=function(t){if(this.pos<this.endpos){var e=t.length;if(this.str.substring(this.pos,this.pos+e)==t)return this.pos+=e,!0}return!1},s.prototype.ahead=function(t){if(this.pos<this.endpos){if(!t)return!0;var e=t.length;if(this.str.substring(this.pos,this.pos+e)==t)return!0}return!1},s.prototype.quotedField=function(){var t=this.pos;if(!this.next(this.options.quote))return this.pos=t,null;for(var e=[],n=this.pos;n<this.endpos;){var o=this.str.indexOf(this.options.quote,n);if(o<0)throw new i("line "+this.lineNo+": missing close quote");var s=this.str.substring(n,o);if(this.lineNo+=r(s,"\n"),e.push(s),!(o+1<this.endpos&&this.str.charAt(o+1)==this.options.quote)){this.pos=o+1;break}n=o+2,o=this.str.indexOf(this.options.quote,n)}return e.join(this.options.quote)},s.prototype.normalField=function(){var t=this.pos,e=this.str.indexOf(this.options.delim,t);e<0&&(e=this.endpos);var n=this.str.indexOf(this.options.rowdelim,t);return n<0&&(n=this.endpos),this.pos=Math.min(e,n),this.str.substring(t,this.pos)},s.prototype.nextField=function(){var t=this.quotedField();return null!==t?t:this.normalField()},s.prototype.nextRow_0=function(){var t=this.pos;if(!this.next(this.options.delim))return this.pos=t,null;var e=this.nextField();return null===e?(this.pos=t,null):e},s.prototype.nextRow=function(){var t=[],e=this.pos,n=this.nextField();if(null===n)return this.pos=e,null;for(t.push(n),n=this.nextRow_0();null!==n;)t.push(n),n=this.nextRow_0();if(!this.next(this.options.rowdelim)&&this.ahead())throw new i("line "+this.lineNo+": "+this.str.substring(Math.max(this.pos-5,0),this.pos+5));return"\n"==this.str.charAt(this.pos-1)&&this.lineNo++,t},s.prototype.nextRowSimple=function(){var t=[],e=this.pos,n=this.nextField();if(null===n)return this.pos=e,null;for(t.push(n),n=this.nextRow_0();null!==n;)t.push(n),n=this.nextRow_0();if(!this.next(this.options.rowdelim)&&this.ahead())throw new i("line "+this.lineNo+": "+this.str.substring(Math.max(this.pos-5,0),this.pos+5));return"\n"==this.str.charAt(this.pos-1)&&this.lineNo++,1===t.length?t[0]:t},s.prototype.hasNext=function(){return this.ahead()},o.CSVSyntaxError=i,o.CSVParser=s,o.parseOne=function(t,e){var n=new s(t,e);return n.hasNext()?n.nextRow():null},o.parseOneSimple=function(t,e){var n=new s(t,e);return n.hasNext()?n.nextRowSimple():null},Array.prototype.map||(Array.prototype.map=function(t,e){var n,o,i;if(null===this)throw new TypeError(" this is null or not defined");var s=Object(this),r=s.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),o=new Array(r),i=0;i<r;){var c,a;i in s&&(c=s[i],a=t.call(n,c,i,s),o[i]=a),i++}return o}),e.exports=s,cc._RF.pop()},{}],Cell:[function(t,e,n){"use strict";cc._RF.push(e,"567e3eDBHBGNrXIk7TU2HRo","Cell");var o={2:"#ECE0D5",4:"#EBDCC2",8:"#F4A873",16:"#F18151",32:"#F1654D",64:"#F0462D",128:"#E8C65F",256:"#E7C34F",512:"#78C93A",1024:"#C9963A",2048:"#C2BC2F"};cc.Class({extends:cc.Component,properties:{bg:cc.Node,numLabel:cc.Label,num:{default:0,notify:function(){this.numLabel.string=this.num,this.numLabel.node.color=this.num<=4?cc.Color.BLACK:cc.Color.WHITE,this.bg.color=o[String(this.num)]?cc.color(o[String(this.num)]):cc.color("#ECE0D5")}}}}),cc._RF.pop()},{}],ClientConfig:[function(t,e,n){"use strict";cc._RF.push(e,"753fe0rGydIfKrO8zNwCJKu","ClientConfig"),window.zy=window.zy||{},window.CHANNEL_ID=201,window.DEBUG_OPEN=!1,window.UPLTV_IOS_APPKEY="",window.UPLTV_ANDROID_APPKEY="",window.BASE_LOCAL_VERSION="2020011302",window.VERSION_NAME="1.0.0",window.HOT_UPDATE_SUB_PATH="zy/download"+VERSION_NAME,cc._RF.pop()},{}],ConstData:[function(t,e,n){"use strict";cc._RF.push(e,"14638K9xV1Mg4d0HwW7hmJE","ConstData");var o=cc.size(1334,750);cc.Class({statics:{ZIndex:{POP_BASE:1,LOADING:888,ALERT:998,TIP:999,POP_MASK:-999,GUIDE:900},DesignSize:o,StaticKey:{SaveDataVersion:"V1",PlayerDataKey:"playerDataKey"},AdKey:{VdFreePh:"video_reward_1",VdOfflineCoins:"video_reward_2",VdAddTime:"video_reward_3",VdLevelCoins:"video_reward_5",VdREVIVE:"video_reward_4",InterLevel:"interstitial_1",FreeCoins:"video_reward_6"},OpenAdsKey:{video_reward_1:"941627716",video_reward_2:"942161521",video_reward_3:"941627750",video_reward_4:"941627756",video_reward_5:"941627759",video_reward_6:"941630566",interstitial_1:"941627740"},OpenAdsKeyIOS:{video_reward_1:"942341544",video_reward_2:"942341562",video_reward_3:"942341570",video_reward_4:"942341573",video_reward_5:"942341577",video_reward_6:"942341579",interstitial_1:"942341589"},Font:{FONT_NORMAL:"fonts/Montserrat-Bold"},init:function(t){},clean:function(){}}}),cc._RF.pop()},{}],CornerMng:[function(t,e,n){"use strict";var o;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}cc._RF.push(e,"b4036SOD9lMEK0kFdgVPqge","CornerMng");var s=cc.Enum({CORNER_ID_UPGRADE_OTHER:1001,CORNER_ID_UPGRADE_TOWER:1010,CORNER_ID_FREE_COINS:1020}),r={},c=(i(o={},s.CORNER_ID_UPGRADE_OTHER,{offset:cc.v2(-10,-10)}),i(o,s.CORNER_ID_UPGRADE_TOWER,{offset:cc.v2(-10,-10)}),i(o,s.CORNER_ID_FREE_COINS,{offset:cc.v2(-10,-10)}),o),a=cc.Enum({NORMAL:0,NEW:1,UPDATE:2,DELETE:3});cc.Class({extends:cc.Component,statics:{CornerType:s,CornerConfig:r,UI_CONFIG:c,prepare:function(){this.cornerList={},this.cornerUI={}},init:function(t){this.prepare(),this.initData(t)},initData:function(t){this.updateCorner(t)},registOn:function(t,e){t&&cc.isValid(t)&&(this.cornerUI[e]||(this.cornerUI[e]=[]),this.cornerUI[e].push(t)),this.updateNode(e)},registOff:function(t){this.cornerUI[t]&&delete this.cornerUI[t]},addClientCorner:function(t){this.updateCorner([{id:t,flag:a.NEW}])},deleteClientCorner:function(t){this.updateCorner([{id:t,flag:a.DELETE}])},getCornerData:function(t){return this.cornerList[t]},updateCorner:function(t){var e=!0,n=!1,o=void 0;try{for(var i,s=t[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var r=i.value,c=r.id||0;r.flag==a.DELETE?delete this.cornerList[c]:this.cornerList[c]=1}}catch(t){n=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw o}}t&&t.length>0&&this.updateAllCorner()},updateAllCorner:function(){for(var t in this.cornerUI)this.updateNode(t)},updateNode:function(t){var e=this.cornerUI[t];if(e){var n=function(t,e){var n=t.getAnchorPoint(),o=t.width*(1-n.x),i=t.height*(1-n.y);return e&&(o+=e.offset.x,i+=e.offset.y),cc.v2(o,i)},o=this.checkCorner(t),i=!0,s=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done);i=!0){var u=a.value;if(u&&cc.isValid(u))if(o){var d=u.getChildByName("CORNER_NODE_UI");if(!d){var h=c[t],f=h&&h.src||"textures/common/red_dot",p=h&&h.scale||1;if((d=zy.Node.createNode({zIndex:9999,name:"CORNER_NODE_UI",parent:u})).addComponent(zy.Sprite),zy.Sprite.updateNode(d,{url:f,scale:p}),cc.isValid(d)){var g=n(u,h);d.position=g}}cc.isValid(d)&&(d.active=!0)}else{var y=u.getChildByName("CORNER_NODE_UI");y&&cc.isValid(y)&&(y.active=!1)}}}catch(t){s=!0,r=t}finally{try{!i&&l.return&&l.return()}finally{if(s)throw r}}}},checkCorner:function(t){if(this.cornerList[t])return!0;var e=r[t]||[],n=!0,o=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var a=s.value;if(this.cornerList[a])return!0;if(r[a]&&this.checkCorner(a))return!0}}catch(t){o=!0,i=t}finally{try{!n&&c.return&&c.return()}finally{if(o)throw i}}return!1},clean:function(){this.prepare()}}}),cc._RF.pop()},{}],DataBase:[function(t,e,n){"use strict";cc._RF.push(e,"4bc8dkqHTBMcaHi1VJ5zUzI","DataBase"),cc.Class({ctor:function(){this.dataObj=null,this.fileDir=""},initData:function(t){t&&(this.dataObj=t)}}),cc._RF.pop()},{}],DataMng:[function(t,e,n){"use strict";cc._RF.push(e,"935052anXpNNrnw1ueUkI/J","DataMng");var o=t("./LevelData"),i=t("./UserData"),s=t("./DataBase");cc.Class({ctor:function(){this.loadCounts=0,this.levelData=new o,this.userData=new i},loadDataFromLocalFile:function(t,e){var n=this;this.loadSavedData();var o=Object.keys(this);if(cc.log("====keys1: %s",JSON.stringify(o)),o=o.filter(function(t){return n.hasOwnProperty(t)&&n[t]instanceof s}),cc.log("====keys2: %s",JSON.stringify(o)),o.length<=0&&this.completeCb)this.completeCb();else{var i=function(i){var s=n[i],r=s.fileDir;cc.loader.loadRes(r,cc.JsonAsset,function(i,c){i?cc.error("load local data: "+r+", error: "+i):s.initData&&s.initData.call(s,c.json),n.loadCounts++,t&&t(n.loadCounts,o.length),n.loadCounts>=o.length&&e&&e()})},r=!0,c=!1,a=void 0;try{for(var l,u=o[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){i(l.value)}}catch(t){c=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(c)throw a}}}},loadSavedData:function(){this.userData.loadData()},saveDataToLocal:function(){this.userData.saveData()}}),cc._RF.pop()},{"./DataBase":"DataBase","./LevelData":"LevelData","./UserData":"UserData"}],DebugPop:[function(t,e,n){"use strict";cc._RF.push(e,"cc370fUVNhEQaYOTe7seOky","DebugPop"),cc.Class({extends:cc.Component,properties:{p1:cc.Node,p2:cc.Node},start:function(){this.pp1=this.p1.getComponent("ProgressBar"),this.pp2=this.p2.getComponent("ProgressCircle")},btnCb:function(t,e){switch(e){case"d1":zy.ui.alert.show({okText:i18n.t("btn_ok"),cancleText:i18n.t("btn_cancle"),okCb:function(){zy.ui.tip.show("ok")},cancleCb:function(){zy.ui.tip.show("cancle")},text:"\u8fd9\u662f\u5355\u884c\u6587\u672c\u6837\u5f0f"});break;case"d2":zy.ui.alert.show({okText:i18n.t("btn_ok"),okCb:function(){zy.ui.tip.show("ok")},cancleCb:function(){zy.ui.tip.show("cancle")},text:"\u8fd9\u662f\u591a\u884c\u6587\u672c\u663e\u793a\u6837\u5f0f\u8fd9\u662f\u591a\u884c\u6587\u672c\u663e\u793a\u6837\u5f0f\u8fd9\u662f\u591a\u884c\u6587\u672c\u663e\u793a\u6837\u5f0f\u8fd9\u662f\u591a\u884c\u6587\u672c\u663e\u793a\u6837\u5f0f\u8fd9\u662f\u591a\u884c\u6587\u672c"});break;case"d3":zy.ui.tip.show("\u6211\u662ftips\uff0c\u6211\u662ftips");break;case"d4":this.pp1.progress=0,this.pp1.setProgressBarToPercent(1,1,function(){zy.ui.tip.show("\u5b8c\u6210")});break;case"d5":this.pp2.progress=0,this.pp2.setProgressBarToPercent(1,1,function(){zy.ui.tip.show("\u5b8c\u6210")})}},closeCallback:function(){zy.director.closePop(this.popName)}}),cc._RF.pop()},{}],Device:[function(t,e,n){"use strict";cc._RF.push(e,"fa52e/qG61Knro2fTFzJpmm","Device");cc.Class({extends:cc.Component,statics:{model:"unknown",mac:"00:00:00:00:00:00",openudid:"",deviceToken:"",osName:"",osVersion:"",ssid:"",language:"cn",region:"unknown",odin:"",idfa:"",idfaEnable:"",advertisingId:"",androidId:"",locationInfo:{},ipAddress:"0.0.0.0",init:function(){this.osName=cc.sys.os,this.osVersion=cc.sys.osVersion,this.language=cc.sys.language,this.openudid="com.game.test";var t="{}";cc.sys.isNative?(cc.sys.os===cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod("com/zygame/utils/PlatformUtils","getDeviceInfo","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS&&(t=jsb.reflection.callStaticMethod("PlatformUtils","getDeviceInfo")),this.initNative(JSON.parse(t))):this.initHtml()},initHtml:function(){},initNative:function(t){for(var e in t)this[e]=t[e];cc.log(JSON.stringify(t))},vibratorShort:function(){getVibrator(25)},vibratorLong:function(){getVibrator(100)},getVibrator:function(t){zy.dataMng.userData.vibOn&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/zygame/utils/PlatformUtils","vibrator","(I)V",t):(cc.sys.os,cc.sys.OS_IOS))},clean:function(){cc.sys.browserType==cc.sys.BROWSER_TYPE_WECHAT&&wx.hideAllNonBaseMenuItem()}}}),cc._RF.pop()},{}],Director:[function(t,e,n){"use strict";cc._RF.push(e,"a2a55RhwyZHfo0GMcF0EnW3","Director"),cc.Class({extends:cc.Component,statics:{scene:null,sceneCanvas:null,sceneComponent:null,isBackground:null,toBackgroundOSTime:null,activePops:null,EventType:{ALL_SINGLE_POP_CLOSE:"ALL_SINGLE_POP_CLOSE"},init:function(t){this.scene=null,this.sceneCanvas=null,this.sceneComponent=null,this.sceneName=null,this.uiRoot=null,this.isBackground=!1,this.activePops=[],this.persistRootNodeList=[],cc.game.on(cc.game.EVENT_HIDE,this.onEventHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onEventShow,this),cc.sys.platform==cc.sys.WECHAT_GAME&&(wx.onShow(this.onWXGShow.bind(this)),wx.onHide(this.onWXGHide.bind(this))),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.director.on(cc.Director.EVENT_AFTER_DRAW,this.onAfterDraw,this),cc.view.setResizeCallback(function(){cc.log("setResizeCallback")}.bind(this))},onEventHide:function(){this.isBackground||(this.isBackground=!0,this.toBackgroundOSTime=zy.utils.time(),cc.log("\u8fdb\u5165\u540e\u53f0:",this.toBackgroundOSTime),zy.dataMng.saveDataToLocal())},onEventShow:function(){if(this.isBackground){this.isBackground=!1;var t=zy.utils.time()-this.toBackgroundOSTime;cc.log("\u8fdb\u5165\u524d\u53f0-interval:",t)}},onWXGHide:function(t){cc.log("onWXGHide",t)},onWXGShow:function(t){cc.log("onWXGShow",t)},onKeyDown:function(t){switch(cc.log("onKeyDown",t.keyCode),t.keyCode){case cc.macro.KEY.back:}},onAfterDraw:function(){},preloadScene:function(t,e,n){cc.director.preloadScene(t,e,n)},loadScene:function(t,e,n){zy.director.closeAllPops(),window[this.sceneName+"Scene"]=null,cc.director.loadScene(t,function(){cc.log("loadScene:",t),this.scene=cc.director.getScene(),this.sceneCanvas=this.scene.getChildByName("Canvas"),this.uiRoot=this.sceneCanvas.getChildByName("UIRoot")||this.sceneCanvas,this.sceneName=t,this.sceneComponent=this.sceneCanvas.getComponent(t+"Scene"),this.sceneComponent&&(this.sceneComponent.sceneName=t+"Scene",this.sceneComponent.init&&this.sceneComponent.init(e)),window[this.sceneName+"Scene"]=this.sceneComponent,n&&n(this.scene,this.sceneCanvas,this.sceneComponent)}.bind(this))},getSceneName:function(){return this.sceneName?this.sceneName:""},getSceneComponent:function(){return this.sceneComponent},getScene:function(){return this.scene},getSceneCanvas:function(){return this.sceneCanvas},getUiRoot:function(){return this.uiRoot},createPop:function(t,e,n){e=e||{};var o="",i=t.split("/");if(i.length>0&&(o=i[i.length-1]),cc.log("createPop:"+t,o),this.isPopActive(t))cc.log("\u5f53\u524dPOP\u5df2\u5b58\u5728:"+t);else{var s=function(n){var o=cc.instantiate(n);o.position=cc.v2(0,0),o.zIndex=this.getTopPopZIndex()+10,o.parent=this.uiRoot;var i={popName:t,popNode:o};this.activePops.push(i);var s=o.getComponent("PopBase");i.popBase=s,s.initBase(e,t),i.popComponent=s.component}.bind(this);n?s(n):cc.loader.loadRes(t,cc.Prefab,null,function(e,n){e?cc.log(t+"\u52a0\u8f7d\u5931\u8d25",e):s(n)}.bind(this))}},getTopPopData:function(t){var e=t||1;return this.activePops[this.activePops.length-e]},getTopPopZIndex:function(){var t=this.getTopPopData();return t?t.popNode.zIndex:zy.constData.ZIndex.POP_BASE},getPopData:function(t){for(var e in this.activePops){var n=this.activePops[e];if(n.popName==t)return n}},getPop:function(t){var e=this.getPopData(t);if(e)return e.popComponent},isPopActive:function(t){return!!this.getPopData(t)},getActivePops:function(){return this.activePops},closePop:function(t){cc.log("closePop:"+t);var e=this.getPopData(t);if(e){for(var n in this.activePops){if(e==this.activePops[n]){this.activePops.splice(n,1);break}}var o=e.popBase;o.cleanBase(),0!=this.activePops.length||o.onClosedCallback||zy.event.emit(zy.director.EventType.ALL_SINGLE_POP_CLOSE)}},closeAllPops:function(){for(;this.activePops.length>0;){var t=this.activePops.length-1,e=this.activePops[t],n=e.popName;cc.log("closeAllPops:"+n),this.activePops.splice(t,1),e.popBase.cleanBase()}this.activePops=[]},addPersistRootNode:function(t){cc.game.addPersistRootNode(t),this.persistRootNodeList.push(t)},cleanPersistRootNode:function(){for(var t in this.persistRootNodeList){var e=this.persistRootNodeList[t];cc.game.removePersistRootNode(e)}}}}),cc._RF.pop()},{}],Encrypt:[function(t,e,n){(function(o){"use strict";cc._RF.push(e,"d01c6ZTO/VDm45rxncbJpPQ","Encrypt");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,o){void 0!==n&&void 0!==e?e.exports=o():"function"==typeof define&&"object"===i(define.amd)?define(o):"function"==typeof define&&"object"===i(define.petal)?define("encryptjs",[],o):this.encryptjs=o()})(0,function(n){(n={version:"1.0.0"}).init=function(){console.log("--------------------Applying Encryption Algorithm------------------ ")};var s=null;void 0!==e&&e.exports&&(s=t("./Algo")),n.encrypt=function(t,e,o){if(128!=o&&192!=o&&256!=o)return"";t=String(t).utf8Encode(),e=String(e).utf8Encode();for(var i=o/8,r=new Array(i),c=0;c<i;c++)r[c]=isNaN(e.charCodeAt(c))?0:e.charCodeAt(c);var a=s.cipher(r,s.keyExpansion(r));a=a.concat(a.slice(0,i-16));for(var l=new Array(16),u=(new Date).getTime(),d=u%1e3,h=Math.floor(u/1e3),f=Math.floor(65535*Math.random()),p=0;p<2;p++)l[p]=d>>>8*p&255;for(var g=0;g<2;g++)l[g+2]=f>>>8*g&255;for(var y=0;y<4;y++)l[y+4]=h>>>8*y&255;for(var v="",_=0;_<8;_++)v+=String.fromCharCode(l[_]);for(var b=s.keyExpansion(a),m=Math.ceil(t.length/16),S=new Array(m),A=0;A<m;A++){for(var w=0;w<4;w++)l[15-w]=A>>>8*w&255;for(var I=0;I<4;I++)l[15-I-4]=A/4294967296>>>8*I;for(var C=s.cipher(l,b),D=A<m-1?16:(t.length-1)%16+1,R=new Array(D),E=0;E<D;E++)R[E]=C[E]^t.charCodeAt(16*A+E),R[E]=String.fromCharCode(R[E]);S[A]=R.join("")}var O=v+S.join("");return O=n.base64Encode(O)},n.decrypt=function(t,e,o){if(128!=o&&192!=o&&256!=o)return"";t=n.base64Decode(String(t)),e=String(e).utf8Encode();for(var i=o/8,r=new Array(i),c=0;c<i;c++)r[c]=isNaN(e.charCodeAt(c))?0:e.charCodeAt(c);var a=s.cipher(r,s.keyExpansion(r));a=a.concat(a.slice(0,i-16));for(var l=new Array(8),u=t.slice(0,8),d=0;d<8;d++)l[d]=u.charCodeAt(d);for(var h=s.keyExpansion(a),f=Math.ceil((t.length-8)/16),p=new Array(f),g=0;g<f;g++)p[g]=t.slice(8+16*g,8+16*g+16);t=p;for(var y=new Array(t.length),v=0;v<f;v++){for(var _=0;_<4;_++)l[15-_]=v>>>8*_&255;for(var b=0;b<4;b++)l[15-b-4]=(v+1)/4294967296-1>>>8*b&255;for(var m=s.cipher(l,h),S=new Array(t[v].length),A=0;A<t[v].length;A++)S[A]=m[A]^t[v].charCodeAt(A),S[A]=String.fromCharCode(S[A]);y[v]=S.join("")}var w=y.join("");return w=w.utf8Decode()};var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return n.base64Encode=function(t){var e="",o=void 0,i=void 0,s=void 0,c=void 0,a=void 0,l=void 0,u=void 0,d=0;for(t=n._utf8_encode(t);d<t.length;)c=(o=t.charCodeAt(d++))>>2,a=(3&o)<<4|(i=t.charCodeAt(d++))>>4,l=(15&i)<<2|(s=t.charCodeAt(d++))>>6,u=63&s,isNaN(i)?l=u=64:isNaN(s)&&(u=64),e=e+r.charAt(c)+r.charAt(a)+r.charAt(l)+r.charAt(u);return e},n.base64Decode=function(t){var e="",o=void 0,i=void 0,s=void 0,c=void 0,a=void 0,l=void 0,u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)o=r.indexOf(t.charAt(u++))<<2|(c=r.indexOf(t.charAt(u++)))>>4,i=(15&c)<<4|(a=r.indexOf(t.charAt(u++)))>>2,s=(3&a)<<6|(l=r.indexOf(t.charAt(u++))),e+=String.fromCharCode(o),64!=a&&(e+=String.fromCharCode(i)),64!=l&&(e+=String.fromCharCode(s));return e=n._utf8_decode(e)},n._utf8_encode=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):o>127&&o<2048?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e},n._utf8_decode=function(t){for(var e="",n=0,o=0,i=0,s=0;n<t.length;)(o=t.charCodeAt(n))<128?(e+=String.fromCharCode(o),n++):o>191&&o<224?(i=t.charCodeAt(n+1),e+=String.fromCharCode((31&o)<<6|63&i),n+=2):(i=t.charCodeAt(n+1),s=t.charCodeAt(n+2),e+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s),n+=3);return e},n.getTextEncryptAndSaveToTextFile=function(t,e,n){throw Error("Command line not supported on this platform")},n.getTextEncryptAndSaveToJSONFile=function(t,e,n){throw Error("Command line not supported on this platform")},n.writeCipherTextToJSON=function(t,e,n,o){null==o&&(o=n,n={});var s="object"===(void 0===n?"undefined":i(n))&&null!==n&&"spaces"in n?n.spaces:this.spaces;try{JSON.stringify(e,n?n.replacer:null,s)+"\n"}catch(t){if(o)return o(t,null)}},void 0===String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),void 0===String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(t){return this}}),void 0===String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if(void 0!==o)return new o(this,"utf8").toString("base64");throw new Error("No Base64 Encode")}),void 0===String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if(void 0!==o)return new o(this,"base64").toString("utf8");throw new Error("No Base64 Decode")}),n.init(),n}),cc._RF.pop()}).call(this,t("buffer").Buffer)},{"./Algo":"Algo",buffer:2}],FBLogger:[function(t,e,n){"use strict";cc._RF.push(e,"dce77Wl/ahBRrf7Vl0Wh2d/","FBLogger");var o="com/zygame/utils/FBHelper";cc.Class({statics:{logEventLevel:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(o,"logEventLevel","(I)V",t);cc.sys.os,cc.sys.OS_IOS},logEventWatchAds:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(o,"logEventWatchAD","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS},logEventClickButton:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(o,"logEventClickButton","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS},logEvent:function(t,e,n){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(o,"logEvent","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,n);cc.sys.os,cc.sys.OS_IOS},logEventName:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(o,"logEventName","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS}}}),cc._RF.pop()},{}],GameHttp:[function(t,e,n){"use strict";cc._RF.push(e,"8afc1m51YpB/YM/mIkdgeO+","GameHttp");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i="timeout",s="error",r="abort",c=cc.Class({ctor:function(){this.xhr_=null,this.error_=null},init:function(t){this.xhr_=t},isOk:function(){var t=this.xhr_;return 4==t.readyState&&t.status>=200&&t.status<=207},getBody:function(){return this.xhr_.response},setError:function(t){this.error_=t},getError:function(){return this.error_},getHeaders:function(){},getHeader:function(t){}}),a=function(t,e){var n=new c;n.init(t),t.onreadystatechange=function(o){4==t.readyState&&e(n)},t.ontimeout=function(t){n.setError(i),e(n)},t.onerror=function(t){n.setError(s),e(n)},t.onabort=function(t){n.setError(r),e(n)}};e.exports={httpGet:function(t,e,n){var o=cc.loader.getXMLHttpRequest();o.timeout=n||5e3,e&&a(o,e),o.open("GET",t,!0),o.send()},httpPost:function(t,e,n,i){var s=cc.loader.getXMLHttpRequest();s.timeout=i||5e3,n&&a(s,n),s.open("POST",t,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),cc.log("===>httpPost: "+(void 0===e?"undefined":o(e))+" | "+JSON.stringify(e)),s.send(e)}},cc._RF.pop()},{}],GameNetwork:[function(t,e,n){"use strict";cc._RF.push(e,"6d3b90F1ltPQqEXXz0L8FEx","GameNetwork");var o=t("./GameWebSocket"),i=t("./GameProtocols"),s="0",r=cc.Class({properties:{request:null,callback:null},init:function(t,e){this.request=t,this.callback=e}}),c=cc.Class({extends:o.GameWebSocketDelegate,ctor:function(){this._socket=null,this._delegate=null,this._requestSequenceId=0,this.pushResponseCallback={},this._networkCallbacks={}},setDelegate:function(t){this._delegate=t},registerPushResponseCallback:function(t,e){this.pushResponseCallback[t]=e},isSocketOpened:function(){return this._socket&&this._socket.getState()==o.GameWebSocketState.OPEN},isSocketClosed:function(){return null==this._socket},connect:function(t){cc.log("webSocketUrls="+t),this._requestSequenceId=0,this._socket=new o.GameWebSocket,this._socket.init(t,this),this._socket.connect()},closeConnect:function(){this._socket&&this._socket.close()},onSocketOpen:function(){cc.log("Socket:onOpen"),this._delegate&&this._delegate.onNetworkOpen&&this._delegate.onNetworkOpen()},onSocketError:function(){cc.log("Socket:onError")},onSocketClosed:function(t){cc.log("Socket:onClose",t),this._socket&&this._socket.close(),this._socket=null,this._delegate&&this._delegate.onNetworkClose&&this._delegate.onNetworkClose()},onSocketMessage:function(t){this._onResponse(t)},_onResponse:function(t){cc.log("response->resp:",t);var e=JSON.parse(t),n=new(0,i.response_classes[e.act]);n.loadData(e.data),n.act=e.act,n.seq=e.seq,n.err=e.err,n.ts=e.ts;var o=!1;if(-1!=n.seq){var r=this.pushResponseCallback[n.act];r&&r(n);var c=this._networkCallbacks[n.seq];c&&(o=c.callback(n))}if(n.err&&n.err!=s&&!o)if(n.is_async);else{var a=e.msg;cc.log("server err "+a)}},sendRequest:function(t,e){t.seq=++this._requestSequenceId,e&&(this._networkCallbacks[t.seq]=new r,this._networkCallbacks[t.seq].init(t,e)),this._sendSocketRequest(!1,t)},sendRequestNoData:function(t,e){t.seq=++this._requestSequenceId,e&&(this._networkCallbacks[t.seq]=new r,this._networkCallbacks[t.seq].init(t,e)),this._sendSocketRequest(!0,t)},_sendSocketRequest:function(t,e){if(cc.assert(this._socket),this.isSocketOpened()){var n=null;n=t?JSON.stringify({seq:e.seq,act:e.act}):JSON.stringify({seq:e.seq,act:e.act,data:e}),cc.log("WebSocketDelegate::send->"+n),this._socket.send(n)}}});e.exports=c,cc._RF.pop()},{"./GameProtocols":"GameProtocols","./GameWebSocket":"GameWebSocket"}],GameProtocols:[function(t,e,n){"use strict";cc._RF.push(e,"ee9afyHSeJGaahOsOe7M5FZ","GameProtocols");var o=cc.Class({ctor:function(){this.act="",this.seq=0,this.err=0,this.is_async=!1}}),i=cc.Class({extends:o}),s=cc.Class({extends:o,loadData:function(t){var e;for(e in t)this.hasOwnProperty(e)&&void 0!==t[e]&&null!==t[e]&&(this[e]=t[e])}}),r=cc.Class({extends:i,ctor:function(){this.act="heart",this.t=-1}}),c=cc.Class({extends:s,ctor:function(){this.act="heart",this.t=-1}}),a=cc.Class({extends:i,ctor:function(){this.act="rmatch",this.uid=0}}),l=cc.Class({extends:s,ctor:function(){this.act="rmatch",this.rid=0,this.black=0,this.other=0,this.order=0}}),u=cc.Class({extends:i,ctor:function(){this.act="createRoom"}}),d=cc.Class({extends:s,ctor:function(){this.act="createRoom",this.rid=0}}),h=cc.Class({extends:i,ctor:function(){this.act="joinRoom",this.rid=0}}),f=cc.Class({extends:i,ctor:function(){this.act="playChess",this.cid=0,this.lastBedIndex=0,this.dest={index:0,x:0,y:0}}}),p=cc.Class({extends:s,ctor:function(){this.order=0,this.act="playChess",this.uid=0,this.cid=0,this.winner=0,this.dest={index:0,x:0,y:0}}}),g=cc.Class({extends:i,ctor:function(){this.act="chat",this.msg="",this.uid=""}}),y=cc.Class({extends:s,ctor:function(){this.act="chat",this.msg="",this.uid=""}}),v=cc.Class({extends:i,ctor:function(){this.act="selectChess",this.cid=0}}),_=cc.Class({extends:s,ctor:function(){this.act="selectChess",this.cid=0}}),b=cc.Class({extends:i,ctor:function(){this.act="login",this.token="",this.origin=0,this.os="",this.osVersion="",this.deviceModel="",this.channelId=0,this.idfa="",this.androidId="",this.googleAid="",this.appVersion="",this.packName="",this.language="",this.locale="",this.uid=0}}),m=cc.Class({extends:s,ctor:function(){this.act="login",this.token="",this.self={isBlack:!1,chessDic:{}},this.other={isBlack:!1,chessDic:{},uid:0},this.order=0,this.rid=0,this.isReconn=!1}}),S=cc.Class({extends:i,ctor:function(){this.act="logout"}}),A=cc.Class({extends:s,ctor:function(){this.act="logout"}}),w=cc.Class({extends:i,ctor:function(){this.act="bindFb",this.token=""}}),I=cc.Class({extends:s,ctor:function(){this.act="bindFb",this.me=0,this.friends=0}}),C=cc.Class({extends:i,ctor:function(){this.act="rankboard",this.type=0}}),D=cc.Class({extends:s,ctor:function(){this.act="rankboard",this.myRank=0,this.men=[]}}),R=cc.Class({extends:s,ctor:function(){this.act="exitRoom",this.uid=0}}),E=cc.Class({extends:s,ctor:function(){this.act="sendSpNotify",this.friend=null}}),O=cc.Class({extends:s,ctor:function(){this.act="takeSpNotify",this.friend=null}}),k=cc.Class({extends:s,ctor:function(){this.act="friendInfoSync",this.friend=null}}),N=cc.Class({extends:i,ctor:function(){this.act="cmdTest",this.cmd=""}}),P=cc.Class({extends:s,ctor:function(){this.act="cmdTest",this.me={},this.spInterval=null,this.spStepLeftTime=null,this.farmDailyOut=null,this.farmCoins=null,this.farmInterval=null,this.buildings=null}}),L={login:m,logout:A,bindFb:I,rankboard:D,heart:c,rmatch:l,createRoom:d,chat:y,exitRoom:R,playChess:p,selectChess:_,sendSpNotify:E,takeSpNotify:O,friendInfoSync:k,cmdTest:P};e.exports={LoginRequest:b,LoginResponse:m,LogoutRequest:S,LogoutResponse:A,BindFacebookRequest:w,BindFacebookResponse:I,RankRequest:C,RankResponse:D,HeartRequest:r,HeartResponse:c,ChatRequest:g,RandomMatchRequest:a,RandomMatchResponse:l,PlayChessRequest:f,SelectChessRequest:v,CreateRoomRequest:u,CreateRoomResponse:d,JoinRoomRequest:h,DebugChangeMeRequest:N,DebugChangeMeResponse:P,PushChat:y,PushExitRoom:R,PushPlayChess:p,PushSendSpResponse:E,PushTakeSpResponse:O,PushSyncFriendInfo:k,response_classes:L},cc._RF.pop()},{}],GameScene:[function(t,e,n){"use strict";cc._RF.push(e,"96793wKagVG8LHTdsirugZ2","GameScene");cc.Class({extends:cc.Component,properties:{panel:cc.Node,cellPF:cc.Prefab,scoreLabel:cc.Label,bestLabel:cc.Label,score:{default:0,type:cc.Integer,notify:function(){this.scoreLabel.string=this.score,this.score>zy.dataMng.userData.bestScore&&(zy.dataMng.userData.bestScore=this.score,this.bestLabel.string=this.score)}}},init:function(t){this.reloadCell(),this.bestLabel.string=zy.dataMng.userData.bestScore},start:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},reloadCell:function(){this.moved=!1,this.moving=!1,this.score=0,this.panel.destroyAllChildren(),this.boardCells=[],this.board=[];for(var t=0;t<4;t++){for(var e=[],n=[],o=0;o<4;o++)e[o]=0,n[o]=null;this.board.push(e),this.boardCells.push(n)}this.randomCell(),this.randomCell()},getPanelPos:function(t,e){return cc.v2(180*e-270,270-180*t)},onTouchMove:function(t){if(!this.moved){var e=t.getStartLocation(),n=t.getLocation().subSelf(e);if(Math.abs(n.x)>Math.abs(n.y)){if(Math.abs(n.x)<10)return;this.moved=!0,n.x>0?this.moveRight():this.moveLeft()}else{if(Math.abs(n.y)<10)return;this.moved=!0,n.y>0?this.moveUp():this.moveDown()}}},onTouchEnd:function(t){this.moved=!1},onKeyDown:function(t){switch(t.keyCode){case cc.macro.KEY.up:this.moveUp();break;case cc.macro.KEY.down:this.moveDown();break;case cc.macro.KEY.left:this.moveLeft();break;case cc.macro.KEY.right:this.moveRight()}},randomCell:function(){for(var t=Math.round(3*Math.random()),e=Math.round(3*Math.random());0!=this.board[t][e];)t=Math.round(3*Math.random()),e=Math.round(3*Math.random());cc.log("rpos:",t,e),this.board[t][e]=2;var n=cc.instantiate(this.cellPF);n.parent=this.panel,n.position=this.getPanelPos(t,e),n=n.getComponent("Cell"),this.boardCells[t][e]=n,n.num=2,n.bg.scale=0,n.bg.runAction(cc.scaleTo(.1,1))},canMoveUp:function(){for(var t=0;t<=3;t++)for(var e=1;e<=3;e++)if(0!=this.board[e][t]&&(0==this.board[e-1][t]||this.board[e-1][t]==this.board[e][t]))return!0;return!1},canMoveDown:function(){for(var t=0;t<=3;t++)for(var e=2;e>=0;e--)if(0!=this.board[e][t]&&(0==this.board[e+1][t]||this.board[e+1][t]==this.board[e][t]))return!0;return!1},canMoveLeft:function(){for(var t=3;t>=0;t--)for(var e=1;e<=3;e++)if(0!=this.board[t][e]&&(0==this.board[t][e-1]||this.board[t][e-1]==this.board[t][e]))return!0;return!1},canMoveRight:function(){for(var t=3;t>=0;t--)for(var e=2;e>=0;e--)if(0!=this.board[t][e]&&(0==this.board[t][e+1]||this.board[t][e+1]==this.board[t][e]))return!0;return!1},moveUp:function(){if(cc.log("\u4e0a\u6ed1\u52a8"),this.canMoveUp()&&!this.moving){for(var t=0;t<=3;t++)for(var e=0,n=0;n<=3;n++)if(0!=this.board[n][t])for(var o=0+e;o<n;o++)0==this.board[o][t]&&this.noBlockVertical(t,o,n)?(this.board[o][t]=this.board[n][t],this.board[n][t]=0,this.moveActionVertical(n,t,o,!1)):this.board[o][t]==this.board[n][t]&&this.noBlockVertical(t,o,n)&&(this.score+=2*this.board[n][t],this.board[o][t]+=this.board[n][t],this.board[n][t]=0,e++,this.moveActionVertical(n,t,o,!0));this.randomCell()}},moveDown:function(){if(cc.log("\u4e0b\u6ed1\u52a8"),this.canMoveDown()&&!this.moving){for(var t=0;t<=3;t++)for(var e=0,n=3;n>=0;n--)if(0!=this.board[n][t])for(var o=3-e;o>n;o--)0==this.board[o][t]&&this.noBlockVertical(t,n,o)?(this.board[o][t]=this.board[n][t],this.board[n][t]=0,this.moveActionVertical(n,t,o,!1)):this.board[o][t]==this.board[n][t]&&this.noBlockVertical(t,n,o)&&(this.score+=2*this.board[n][t],this.board[o][t]+=this.board[n][t],this.board[n][t]=0,e++,this.moveActionVertical(n,t,o,!0));this.randomCell()}},moveLeft:function(){if(cc.log("\u5de6\u6ed1\u52a8"),this.canMoveLeft()&&!this.moving){for(var t=3;t>=0;t--)for(var e=0,n=0;n<=3;n++)if(0!=this.board[t][n])for(var o=0+e;o<n;o++)0==this.board[t][o]&&this.noBlockHorizonal(t,o,n)?(this.board[t][o]=this.board[t][n],this.board[t][n]=0,this.moveActionHorizonal(t,n,o,!1)):this.board[t][o]==this.board[t][n]&&this.noBlockHorizonal(t,n,o)&&(this.score+=2*this.board[t][n],this.board[t][o]+=this.board[t][n],this.board[t][n]=0,e++,this.moveActionHorizonal(t,n,o,!0));this.randomCell()}},moveRight:function(){if(cc.log("\u53f3\u6ed1\u52a8"),this.canMoveRight()&&!this.moving){for(var t=3;t>=0;t--)for(var e=0,n=3;n>=0;n--)if(0!=this.board[t][n])for(var o=3-e;o>n;o--)0==this.board[t][o]&&this.noBlockHorizonal(t,n,o)?(this.board[t][o]=this.board[t][n],this.board[t][n]=0,this.moveActionHorizonal(t,n,o,!1)):this.board[t][o]==this.board[t][n]&&this.noBlockHorizonal(t,n,o)&&(this.score+=2*this.board[t][n],this.board[t][o]+=this.board[t][n],this.board[t][n]=0,e++,this.moveActionHorizonal(t,n,o,!0));this.randomCell()}},moveActionHorizonal:function(t,e,n,o){var i=this,s=this.boardCells[t][e];s&&(this.boardCells[t][e]=null,s.node.stopAllActions(),this.moving=!0,o?s.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(t,n)),cc.callFunc(function(){i.boardCells[t][n].num=i.board[t][n],i.boardCells[t][n].bg.runAction(cc.sequence(cc.scaleTo(.1*.4,1.2),cc.delayTime(.1*.2),cc.scaleTo(.03,1))),s.node.destroy(),i.moving=!1,i.getGameResult(i.board[t][n])}))):(this.boardCells[t][n]=s,s.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(t,n)),cc.callFunc(function(){i.moving=!1,i.getGameResult(i.board[t][n])})))))},moveActionVertical:function(t,e,n,o){var i=this,s=this.boardCells[t][e];s&&(this.boardCells[t][e]=null,s.node.stopAllActions(),this.moving=!0,o?s.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(n,e)),cc.callFunc(function(){i.boardCells[n][e].num=i.board[n][e],i.boardCells[n][e].bg.runAction(cc.sequence(cc.scaleTo(.1*.4,1.2),cc.delayTime(.1*.2),cc.scaleTo(.03,1))),s.node.destroy(),i.moving=!1,i.getGameResult(i.board[n][e])}))):(this.boardCells[n][e]=s,s.node.runAction(cc.sequence(cc.moveTo(.1,this.getPanelPos(n,e)),cc.callFunc(function(){i.moving=!1,i.getGameResult(i.board[n][e])})))))},noBlockHorizonal:function(t,e,n){for(var o=e+1;o<n;o++)if(0!=this.board[t][o])return!1;return!0},noBlockVertical:function(t,e,n){for(var o=e+1;o<n;o++)if(0!=this.board[o][t])return!1;return!0},showGameSuc:function(){var t=this;zy.ui.alert.show({text:"\u518d\u6765\u4e00\u5c40\u5427!",okText:"\u786e\u5b9a",okCb:function(){t.reloadCell()}})},showGameFail:function(){var t=this;zy.ui.alert.show({text:"\u6e38\u620f\u5931\u8d25\uff0c\u518d\u8bd5\u4e00\u6b21\u5427!",okText:"\u786e\u5b9a",okCb:function(){t.reloadCell()}})},getGameResult:function(t){2048!=t?this.getIsGameOver():this.showGameSuc()},getIsGameOver:function(){this.canMoveUp()||this.canMoveDown()||this.canMoveLeft()||this.canMoveRight()||this.showGameFail()}}),cc._RF.pop()},{}],GameWebSocket:[function(t,e,n){"use strict";cc._RF.push(e,"7ba25vCzDxHGK1L/2U83Qx/","GameWebSocket");var o=cc.Enum({CONNECTING:1,OPEN:2,CLOSING:3,CLOSED:4}),i=cc.Class({onSocketOpen:function(){},onSocketMessage:function(t){},onSocketError:function(){},onSocketClosed:function(t){}}),s=cc.Class({connect:function(){},send:function(){},close:function(){},getState:function(){}}),r=cc.Class({extends:s,properties:{_address:null,_delegate:null,_webSocket:null},init:function(t,e){this._address=t,this._delegate=e,this._webSocket=null},connect:function(){cc.log("connect to "+this._address);var t=this._webSocket=new WebSocket(this._address);t.onopen=this._delegate.onSocketOpen.bind(this._delegate),t.onmessage=function(t){this._delegate.onSocketMessage(t.data)}.bind(this),t.onerror=this._delegate.onSocketError.bind(this._delegate),t.onclose=function(t){this._delegate.onSocketClosed(t.reason)}.bind(this)},send:function(t){this._webSocket.send(t)},close:function(){if(this._webSocket){try{this._webSocket.close()}catch(t){cc.log("error while closing webSocket",t.toString())}this._webSocket=null}},getState:function(){if(this._webSocket)switch(this._webSocket.readyState){case WebSocket.OPEN:return o.OPEN;case WebSocket.CONNECTING:return o.CONNECTING;case WebSocket.CLOSING:return o.CLOSING;case WebSocket.CLOSED:return o.CLOSED}return o.CLOSED}});e.exports={GameWebSocketState:o,GameWebSocketDelegate:i,GameWebSocketInterface:s,GameWebSocket:r},cc._RF.pop()},{}],Guide:[function(t,e,n){"use strict";cc._RF.push(e,"758846ZgwpGZLjqN2ZhXxS8","Guide");var o={0:[1001,1002],1:[1001,1003,1004],2:[1005,1006,1007,1008,1009],3:[1010,1011],4:[1012,1013]},i={1001:function(){zy.guide.hit({name:"guide_button2",showMask:!0,click:function(){zy.guide.showNext()}})},1002:function(){zy.guide.slideTower({name:"guide_weapon_2",showMask:!0,click:function(){zy.guide.showNext()}})},1003:function(){zy.guide.hit({name:"guide_weapon_0",showMask:!0,click:function(){zy.guide.showNext()}})},1004:function(){zy.guide.hit({name:"guide_upgradeBtn",showMask:!0,click:function(){zy.guide.showNext()}})},1005:function(){zy.guide.hit({name:"guide_skill_1",showMask:!0,click:function(){zy.guide.showNext()}})},1006:function(){zy.guide.hit({name:"guide_skill_2",showMask:!0,click:function(){setTimeout(function(){zy.guide.showNext()},500)}})},1007:function(){zy.guide.hit({name:"guide_skill_3",showMask:!0,click:function(){setTimeout(function(){zy.guide.showNext()},500)}})},1008:function(){zy.guide.hit({name:"guide_button_add_time",showMask:!0,click:function(){setTimeout(function(){zy.guide.showNext()},500)}})},1009:function(){zy.guide.look({name:"guide_skill_progressBar",showMask:!0,click:function(){zy.guide.showNext()}})},1010:function(){zy.guide.hit({name:"guide_button1",showMask:!0,click:function(){zy.guide.showNext()}})},1011:function(){zy.guide.hit({name:"guide_upgrade_hp",showMask:!0,click:function(){zy.guide.showNext()}})},1012:function(){zy.guide.hit({name:"guide_button3",showMask:!0,click:function(){zy.guide.showNext()}})},1013:function(){zy.guide.hit({name:"guide_free_coins",showMask:!0,click:function(){setTimeout(function(){zy.guide.showNext()},500)}})}};cc.Class({extends:cc.Component,statics:{OPEN_GUIDE:!0,CFG:i,init:function(t){cc.log("===init guide: ",t),this.step=t.step,this.stepList=[],this.cb=null,1001==this.step&&(this.step=0),this.OPEN_GUIDE?this.openStatus=!0:this.openStatus=!1,this.node=null,this.maskNode=null},setStep:function(t){this.step=t},setOpenStatus:function(t){this.openStatus=t},getOpenStatus:function(){return this.openStatus},getNextStep:function(){if(zy.guide.getOpenStatus())return this.stepList[0]},addStep:function(t){0==this.stepList.length&&this.stepList.push(t)},checkGuide:function(){var t=o[this.step];t&&(this.stepList=zy.utils.clone(t),zy.guide.showNext())},showNext:function(t,e){if(zy.guide.getOpenStatus())if(t)this.CFG[t](e);else{var n=this.stepList.shift();null==n?zy.guide.clean():(this.step=n,cc.log("zy.guide.show",n),this.CFG[this.step]())}},hit:function(t){var e=this;this.hideMask();var n=t.name,o=zy.ui.seekChildByName(zy.director.getSceneCanvas(),n);if(o){var i=o.scale,s=o.position,r=o.parent,c=o.zIndex,a=r.convertToWorldSpaceAR(s);o.parent=this.node,o.position=this.node.convertToNodeSpaceAR(a),o.zIndex=1,o.scale=i;var l=o.getComponent(cc.Animation);l&&l.play("guide_shake",0),cc.log("===oriPos:"+JSON.stringify(s)),cc.log("===newPos:"+JSON.stringify(o.position));var u=null;t.showMask&&(u=this.createMaskNode(o,this.node,t.digging));o.on(cc.Node.EventType.TOUCH_START,function n(){cc.log("===click guide hit node"),o.off(cc.Node.EventType.TOUCH_START,n,e,!0),o.parent=r,o.position=s,o.zIndex=c,l&&(l.setCurrentTime(0,"guide_shake"),l.stop("guide_shake")),cc.isValid(u)&&u.destroy(),t.click&&t.click()},this,!0)}else{var d=cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.hit(t)}));this.node.runAction(d)}},slideTower:function(t){var e=this;this.hideMask();var n=t.name,o=zy.ui.seekChildByName(zy.director.getSceneCanvas(),n);if(o){var i=o.scale,s=o.position,r=o.parent,c=o.zIndex,a=r.convertToWorldSpaceAR(s);o.parent=this.node,o.position=this.node.convertToNodeSpaceAR(a),o.zIndex=1,o.scale=i;var l=null;t.showMask&&(l=this.createMaskNode(o,this.node,t.digging));var u=function n(){e.node.off(cc.Node.EventType.TOUCH_START,n,e,!0),o.parent=r,o.position=s,o.zIndex=c,e.slideAniNode.destroy(),cc.isValid(l)&&l.destroy(),t.click&&t.click()};cc.loader.loadRes("MainGame/Ui/gun_drag",cc.Prefab,function(t,n){if(t)cc.log(t);else{var i=e.slideAniNode=cc.instantiate(n);i.zIndex=2,i.parent=e.node,i.position=e.node.convertToNodeSpaceAR(o.parent.convertToWorldSpaceAR(o.position)),i.getComponent(cc.Animation).play("guide_drag",0),e.node.on(cc.Node.EventType.TOUCH_START,u,e,!0)}})}else{var d=cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.slideTower(t)}));this.node.runAction(d)}},look:function(t){var e=this;this.hideMask();var n=t.name,o=zy.ui.seekChildByName(zy.director.getSceneCanvas(),n);if(o){var i=o.scale,s=o.position,r=o.parent,c=o.zIndex,a=r.convertToWorldSpaceAR(s);o.parent=this.node,o.position=this.node.convertToNodeSpaceAR(a),o.zIndex=1,o.scale=i,cc.log("===oriPos:"+JSON.stringify(s)),cc.log("===newPos:"+JSON.stringify(o.position));var l=null;t.showMask&&(l=this.createMaskNode(o,this.node,t.digging));this.node.on(cc.Node.EventType.TOUCH_START,function n(){cc.log("===click guide look node"),e.node.off(cc.Node.EventType.TOUCH_START,n,e,!0),o.parent=r,o.position=s,o.zIndex=c,cc.isValid(l)&&l.destroy(),t.click&&t.click()},this,!0)}else{var u=cc.sequence(cc.delayTime(.5),cc.callFunc(function(){e.hit(t)}));this.node.runAction(u)}},createMaskNode:function(t,e,n){var o=zy.Node.createNode({name:"guideMaskNode",parent:e,position:cc.v2(0,0)});if(n){var i=Math.max(t.width,t.height),s=t.parent.convertToWorldSpaceAR(t.position),r=o.convertToNodeSpaceAR(s),c=o.addComponent(cc.Mask);c.type=cc.Mask.Type.RECT,c.inverted=!0,c._graphics.lineWidth=1,c._graphics.strokeColor=cc.color(255,0,0),c._graphics.fillColor=cc.color(0,255,0),c._graphics.circle(r.x,r.y,.5*i),c._graphics.fill(),c._graphics.stroke()}var a=zy.Node.createNode({parent:o,position:cc.v2(0,0)});return a.addComponent(zy.Sprite),zy.Sprite.updateNode(a,{url:"textures/common/guide/guide_mask",width:1.5*zy.constData.DesignSize.width,height:1.5*zy.constData.DesignSize.height}),o},checkStatus:function(){this.openStatus&&(cc.isValid(this.node)||(this.node=zy.Button.createNode({name:"guideNode",zIndex:zy.constData.ZIndex.GUIDE,parent:zy.director.getUiRoot(),touchAction:!1,width:2*zy.constData.DesignSize.width,height:2*zy.constData.DesignSize.height})))},hideMask:function(){cc.isValid(this.maskNode)&&(this.maskNode.active=!1)},showMask:function(){this.openStatus&&(this.maskNode.active=!0)},isShowMask:function(){return!(!cc.isValid(this.node)||!cc.isValid(this.maskNode))&&(this.node.active&&this.maskNode.active)},clean:function(){this.openStatus=!1,this.step=-1,cc.isValid(this.node)&&(this.node.destroy(),this.node=null)}}}),cc._RF.pop()},{}],HotUpdate:[function(t,e,n){"use strict";cc._RF.push(e,"d989cs4cdZFtq7PriQKE9uC","HotUpdate");var o=t("./UpdatePanel");cc.Class({extends:cc.Component,properties:{panel:o,manifestUrl:{type:cc.Asset,default:null},versionUrl:{type:cc.Asset,default:null},updateUI:cc.Node,_updating:!1,_canRetry:!1,_storagePath:""},checkCb:function(t){cc.log("Code: "+t.getEventCode());var e=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("No local manifest file found, hot update skipped."),cc.director.loadScene("InitScene");break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("Fail to download manifest file, hot update skipped."),cc.director.loadScene("InitScene");break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("Already up to date with the latest remote version."),cc.director.loadScene("InitScene");break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.panel.fileProgress.progress=0,this.panel.byteProgress.progress=0,e=!0;break;default:return}this._am.setEventCallback(null),this._checkListener=null,this._updating=!1,e&&this.show()},updateCb:function(t){var e=!1,n=!1;switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.panel.info.string="No local manifest file found, hot update skipped.",n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this.panel.byteProgress.progress=t.getPercent(),this.panel.fileProgress.progress=t.getPercentByFile(),this.panel.fileLabel.string=t.getDownloadedFiles()+" / "+t.getTotalFiles(),this.panel.byteLabel.string=t.getDownloadedBytes()+" / "+t.getTotalBytes();var o=t.getMessage();o&&(this.panel.info.string="Updated file: "+o);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.panel.info.string="Fail to download manifest file, hot update skipped.",n=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.panel.info.string="Already up to date with the latest remote version.",n=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.panel.info.string="Update finished. "+t.getMessage(),e=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.panel.info.string="Update failed. "+t.getMessage(),this.panel.retryBtn.active=!0,this._updating=!1,this._canRetry=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this.panel.info.string="Asset update error: "+t.getAssetId()+", "+t.getMessage();break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.panel.info.string=t.getMessage()}if(n&&(this._am.setEventCallback(null),this._updateListener=null,this._updating=!1),e){this._am.setEventCallback(null),this._updateListener=null;var i=jsb.fileUtils.getSearchPaths(),s=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(s)),Array.prototype.unshift.apply(i,s),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),cc.log("seachPaths: "+JSON.stringify(i)),jsb.fileUtils.setSearchPaths(i),cc.audioEngine.stopAll(),cc.game.restart()}},loadCustomManifest:function(){if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=new jsb.Manifest(customManifestStr,this._storagePath);this._am.loadLocalManifest(t,this._storagePath),this.panel.info.string="Using custom manifest"}},retry:function(){!this._updating&&this._canRetry&&(this.panel.retryBtn.active=!1,this._canRetry=!1,this.panel.info.string="Retry failed Assets...",this._am.downloadFailedAssets())},checkUpdate:function(){if(this._updating)this.panel.info.string="Checking or updating ...";else{if(this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this._am.loadLocalManifest(t)}this._am.getLocalManifest()&&this._am.getLocalManifest().isLoaded()?(this._am.setEventCallback(this.checkCb.bind(this)),this._am.checkUpdate(),this._updating=!0):this.panel.info.string="Failed to load local manifest ..."}},hotUpdate:function(){if(cc.log("111111"),cc.log(this._am),cc.log(this._updating),this._am&&!this._updating){if(this._am.setEventCallback(this.updateCb.bind(this)),cc.log("2222222"),this._am.getState()===jsb.AssetsManager.State.UNINITED){var t=this.manifestUrl.nativeUrl;cc.loader.md5Pipe&&(t=cc.loader.md5Pipe.transformURL(t)),this._am.loadLocalManifest(t),cc.log("33333")}cc.log("4444"),this._failCount=0,this._am.update(),this._updating=!0}},show:function(){0==this.updateUI.active&&(this.updateUI.active=!0,this.hotUpdate())},onLoad:function(){if(cc.sys.isNative){this._storagePath=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+HOT_UPDATE_SUB_PATH,cc.log("Storage path for remote asset : "+this._storagePath),this.versionCompareHandle=function(t,e){cc.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var n=t.split("."),o=e.split("."),i=0;i<n.length;++i){var s=parseInt(n[i]),r=parseInt(o[i]||0);if(s!==r)return s-r}return o.length>n.length?-1:0},this._am=new jsb.AssetsManager("",this._storagePath,this.versionCompareHandle);var t=this.panel;this._am.setVerifyCallback(function(e,n){var o=n.compressed,i=n.md5,s=n.path;n.size;return o?(t.info.string="Verification passed : "+s,!0):(t.info.string="Verification passed : "+s+" ("+i+")",!0)}),cc.log("Hot update is ready, please check or directly update."),cc.sys.os===cc.sys.OS_ANDROID&&(this._am.setMaxConcurrentTask(2),cc.log("android: Max concurrent tasks count have been limited to 2")),this.panel.fileProgress.progress=0,this.panel.byteProgress.progress=0}},start:function(){cc.sys.isNative?(this.checkUpdate(),t("./../framework/platform/PlatformUtils").rmSplash()):cc.director.loadScene("InitScene")},onDestroy:function(){this._updateListener&&(this._am.setEventCallback(null),this._updateListener=null)}}),cc._RF.pop()},{"./../framework/platform/PlatformUtils":"PlatformUtils","./UpdatePanel":"UpdatePanel"}],HttpProxy:[function(t,e,n){"use strict";cc._RF.push(e,"ae20cwKtwdBMZtY6Ie6ZibZ","HttpProxy");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./GameHttp"),s=t("./../encrypt/Md5").md5_hex_hmac,r=t("./../platform/PlatformUtils"),c=5,a="http://mini-game.zhanyougame.com:"+[8010,8011,8012,8015,8016,8017][Math.round(5*Math.random())]+"/zc_game?m=",l=cc.Class({statics:{instance:null,getInstance:function(){return this.instance||(this.instance=new l),this.instance}},login:function(t,e){var n=this;cc.log("===urlroot:"+a);var o={energy:1,otherpassplies:1,loginday:1,diamond:10,allautoatt:10,normalpassplies:1,cversion:r.getAppVersion(),healthlevel:zy.dataMng.userData.hpLevel,goldrewardlevel:zy.dataMng.userData.freeCoinsLevel,stamina:zy.dataMng.userData.phPower,channel:CHANNEL_ID,macaddress:zy.device.mac,idfa:zy.device.idfa},i=a+"user_join_game";this.serverRequest(i,o,t,function(){e&&e(),c>0&&(c-=1,setTimeout(function(){n.login()},5e3))})},updateBase:function(t,e,n,o){var i={baseinfoid:t,value:e},s=a+"base_info_change";this.serverRequest(s,i,n,o)},updateTurret:function(t,e,n,o,i,s){var r={level:e,turretid:t,star:n,lock:o},c=a+"turret_info";this.serverRequest(c,r,i,s)},updateBuilding:function(t,e,n,o){var i={buildingid:t,lock:e},s=a+"building_info";this.serverRequest(s,i,n,o)},updateTreasure:function(t,e,n,o){var i={treasureid:t,lock:e},s=a+"treasure_info";this.serverRequest(s,i,n,o)},watchAds:function(t,e,n){var o={adstationid:t},i=a+"watch_advertisement";this.serverRequest(i,o,e,n)},clickButton:function(t,e,n){var o={buttonid:t},i=a+"click_button";this.serverRequest(i,o,e,n)},getServerTime:function(t,e){var n=a+"request_unixtime";this.serverRequest(n,{},t,e)},serverRequest:function(t,e,n,c){cc.log("===>serverRequest: "+(void 0===e?"undefined":o(e))+" | "+JSON.stringify(e)),e="string"==typeof e?e:JSON.stringify(e);var a=s("zygame",e),l=r.getMobilePhoneID();l=void 0==l?"":l,cc.log("uid="+l);var u={data:JSON.parse(e),encrypt:a,roleid:l,token:""};u=JSON.stringify(u),i.httpPost(t,u,function(e){cc.log("===>response:"+e.getBody()),e.isOk()?(cc.log("===>requrest: "+t+" \u6210\u529f\u3002"),n&&n(JSON.parse(e.getBody()))):(cc.log("===>requrest: "+t+" \u5931\u8d25\u3002"),c&&c(e.getError()||e.getBody()))})}});cc._RF.pop()},{"./../encrypt/Md5":"Md5","./../platform/PlatformUtils":"PlatformUtils","./GameHttp":"GameHttp"}],ImageLoader:[function(t,e,n){"use strict";function o(t,e){cc.loader.load({url:t,type:"jpeg"},function(t,n){t?cc.error(t):e(n)})}cc._RF.push(e,"bc14cw8w1BD+YXEJ8wOFpD2","ImageLoader"),e.exports={loadImage:function(e,n){if(cc.sys.isNative){var i=jsb.fileUtils.getWritablePath()+"TclGameImg/";cc.log("dirpath: "+i);var s=t("./../encrypt/Md5").md5_hex(e),r=i+s+".jpg";if(cc.log("filepath: "+r),jsb.fileUtils.isFileExist(r))return cc.log("Remote img is find: "+r),void l();var c=function(t){t&&void 0!==t?(jsb.fileUtils.isDirectoryExist(i)?cc.log("\u8def\u5f84 "+i+"\u5df2\u7ecf\u5b58\u5728\u3002"):jsb.fileUtils.createDirectory(i),jsb.fileUtils.writeDataToFile(new Uint8Array(t),r)?(cc.log("Remote img save succeed."),l()):cc.log("Remote img save failed.")):cc.log("Remote img download failed.")},a=cc.loader.getXMLHttpRequest();a.onreadystatechange=function(){cc.log("xhr.readyState: "+a.readyState),cc.log("xhr.status: "+a.status),4===a.readyState&&(200===a.status?c(a.response):c(null))}.bind(this),a.responseType="arraybuffer",a.open("GET",e,!0),a.send()}else o(e,n);function l(){cc.loader.load(r,function(t,e){t?cc.error(t):n(e)})}}},cc._RF.pop()},{"./../encrypt/Md5":"Md5"}],InitScene:[function(t,e,n){"use strict";cc._RF.push(e,"be329An/tdHbbITHsY2sOVj","InitScene"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){if(cc.sys.isNative){var t=cc.sys.localStorage.getItem("BASE_LOCAL_VERSION");if(cc.sys.localStorage.setItem("BASE_LOCAL_VERSION",BASE_LOCAL_VERSION),""!=t&&t!=BASE_LOCAL_VERSION){var e=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+HOT_UPDATE_SUB_PATH;jsb.fileUtils.removeDirectory(e),cc.log("\u5927\u7248\u672c\u66f4\u65b0\uff0cpath: "+e),cc.game.restart()}else this.init()}else this.init();cc.debug.setDisplayStats(DEBUG_OPEN)},init:function(){window.i18n=t("./../framework/i18n/i18n"),zy.event=new cc.EventTarget,zy.utils=t("./../framework/common/UtilsOther");var e=t("./../framework/net/HttpProxy");zy.httpProxy=new e,zy.constData=t("./../data/ConstData"),zy.constData.init(),zy.shaderUtils=t("./../framework/common/ShaderUtils"),zy.shaderUtils.init(),zy.ui=t("./../framework/common/UI"),zy.ui.init(),zy.cornerMng=t("./../framework/common/CornerMng"),zy.cornerMng.init([]),zy.device=t("./../framework/common/Device"),zy.device.init(),zy.audio=t("./../framework/common/Audio"),zy.audio.init(),zy.director=t("./../framework/common/Director"),zy.director.init();var n=t("./../data/DataMng");zy.dataMng=new n,zy.dataMng.loadDataFromLocalFile(function(t,e){cc.log("load local cfg: %d/%d",t,e)},function(){zy.director.loadScene("Game")})}}),cc._RF.pop()},{"./../data/ConstData":"ConstData","./../data/DataMng":"DataMng","./../framework/common/Audio":"Audio","./../framework/common/CornerMng":"CornerMng","./../framework/common/Device":"Device","./../framework/common/Director":"Director","./../framework/common/ShaderUtils":"ShaderUtils","./../framework/common/UI":"UI","./../framework/common/UtilsOther":"UtilsOther","./../framework/i18n/i18n":"i18n","./../framework/net/HttpProxy":"HttpProxy"}],LabelInteger:[function(t,e,n){"use strict";cc._RF.push(e,"f674fOMBSpIZLaQSTfJ+Irg","LabelInteger");t("UtilsOther");var o=cc.Enum({None:0,ThousandSeparator:1,FormatTime:2}),i=function(t){var e=void 0;if(t>=0){var n=Math.floor(t/3600),o=Math.floor(t/60)%60,i=t%60,s=parseInt(n/24);if(1==s)return s+" day";if(s>1)return s+" days";e=s>0?s+"day "+("00"+(n-=24*s)).slice(-2)+":":n>0?("00"+n).slice(-2)+":":"",o<10&&(e+="0"),e+=o+":",i<10&&(e+="0"),e+=parseInt(i)}return e};cc.Class({extends:cc.Label,properties:{formType:{tooltip:"None: \u4e0d\u505a\u683c\u5f0f\u5316\nThousandSeparator: 3\u4f4d\u9017\u53f7\u5206\u9694\nFormatTime: \u683c\u5f0f\u5316\u65f6\u95f4",type:o,default:o.None,notify:function(t){this.setValue(this.string)}},animationDuration:{tooltip:"\u52a8\u753b\u65f6\u95f4",default:.5},_textKey:0,string:{override:!0,tooltip:"\u5fc5\u987b\u662f\u6570\u5b57",get:function(){return this._textKey},set:function(t){if(this._textKey=Number(t),this._sgNode){switch(this.formType){case o.ThousandSeparator:t=t.toString().split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("");break;case o.FormatTime:t=i(t)}this._sgNode.setString(t),this._updateNodeSize()}}},_curValue:0,_toValue:0,_delta:0},setValue:function(t,e){(""===t||null===t||isNaN(t))&&cc.assert(!1,"The value of LabelInteger must be a Number!"),e?this._toValue=t:(this._toValue=t,this._curValue=t,this.string=t),this._delta=0},setFormString:function(t){switch(this.formType){case o.None:this.string=t;break;case o.ThousandSeparator:this.string=t.split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join("");break;case o.FormatTime:this.string=i(t)}},update:function(t){if(this._toValue!=this._curValue){0==this._delta&&(this._delta=this._toValue-this._curValue);var e=t/this.animationDuration*this._delta;this._delta>0?(0==(e=parseInt(e))&&(e=1),this._curValue+=e,this._curValue=Math.min(this._curValue,this._toValue)):(e=-e,0==(e=parseInt(e))&&(e=1),this._curValue-=e,this._curValue=Math.max(this._curValue,this._toValue)),this.string=this._curValue,this._toValue==this._curValue&&(this._delta=0)}},onLoad:function(){this.setValue(this.string)}}),cc._RF.pop()},{UtilsOther:"UtilsOther"}],Label:[function(t,e,n){"use strict";cc._RF.push(e,"64cd4KWD1hGiZ4uUhNcZKVY","Label");var o=t("i18n"),i=cc.Class({extends:cc.Label,statics:{createNode:function(t){var e=new cc.Node;return e.addComponent(zy.Label),zy.Label.updateNode(e,t),e},updateNode:function(t,e){var n=t.getComponent(zy.Label);n||(n=t.getComponent(cc.Label));var o=e.font?e.font:zy.constData.Font.FONT_NORMAL,i=e.loadCallback,s=e.systemFont,r=function(){if(e.overflow&&(n.overflow=e.overflow),e.hasOwnProperty("string")&&(n.string=e.string),e.hasOwnProperty("verticalAlign")&&(n.verticalAlign=e.verticalAlign),e.fontSize&&(n.fontSize=e.fontSize),e.outlineWidth||e.outlineColor){var o=t.getComponent(cc.LabelOutline);o||(o=t.addComponent(cc.LabelOutline)),e.outlineWidth&&(o.width=e.outlineWidth),e.outlineColor&&(o.color=e.outlineColor)}}.bind(this);s?(r(),i&&i(null,t)):cc.loader.loadRes(o,cc.Font,null,function(e,o){e?cc.log("zy.Label.updateLabel err:",e):cc.isValid(t)&&(n.font=o,r()),i&&i(e,t)}.bind(this)),zy.Node.updateNode(t,e)},createAttrNode:function(t,e){var n=zy.Node.createNode(e),o=n.addComponent(cc.Layout);o.type=cc.Layout.Type.HORIZONTAL,o.resizeMode=cc.Layout.ResizeMode.CONTAINER;var i=[];for(var s in t){var r=null,c=t[s];c.anchor=c.anchor?c.anchor:cc.v2(0,.5),c.parent=n,"text"==c.type&&(r=zy.Label.createNode(c),c.color&&(r.color=c.color)),r.__type=c.type,i.push(r)}return n.subNodes=i,n},updateAttrNode:function(t,e,n){var o=t.subNodes;for(var i in e){var s=e[i],r=o[i];"text"==r.__type&&zy.Label.updateNode(r,s)}}},properties:{textKey:{override:!0,default:"",multiline:!0,tooltip:"Enter i18n key here",notify:function(){this.string=this.localizedString}},textValueOption:{override:!0,default:"",multiline:!0,tooltip:"Enter textValueOption here",notify:function(t){this.string=this.localizedString}},localizedString:{override:!0,tooltip:"Here shows the localized string of Text Key",get:function(){var t=void 0;if(this.textValueOption&&""!=this.textValueOption)try{t=JSON.parse(this.textValueOption)}catch(t){}return o.t(this.textKey,t)},set:function(t){this.textKey=t}}},onLoad:function(){this.localizedString&&(this.string=this.localizedString)}});zy.Label=e.exports=i,cc._RF.pop()},{i18n:"i18n"}],LevelData:[function(t,e,n){"use strict";cc._RF.push(e,"ca989YW81xG8aTmIZnM/nUD","LevelData");var o=t("./../framework/common/UtilsOther"),i=t("./DataBase");cc.Class({extends:i,ctor:function(){this.fileDir="config/levelCfg"},initData:function(t){t&&(this.dataObj=t,this.len=this.dataObj.length,this.dataObj=o.arrayToDict(this.dataObj,"level"))},getLevelData:function(t){return this.dataObj[t]},getMaxLevel:function(){return this.len}}),cc._RF.pop()},{"./../framework/common/UtilsOther":"UtilsOther","./DataBase":"DataBase"}],ListView:[function(t,e,n){"use strict";cc._RF.push(e,"0a6b1zwRINNuZP6KVs0lXLD","ListView");var o=cc.Class({ctor:function(){this.dataSet=[]},setItemComponent:function(t){this.itemComponent=t},getComponentType:function(){return this.itemComponent},setDataSet:function(t){this.dataSet=t},getCount:function(){return this.dataSet.length},getItem:function(t){return this.dataSet[t]},_getView:function(t,e){var n=t.getComponent(this.itemComponent);return n?this.updateView(n,e):cc.warn("item \u4e0d\u5305\u542b\u7ec4\u4ef6:",this.itemComponent),t},updateView:function(t,e){}}),i=cc.Class({extends:cc.Component,properties:{itemTemplate:{type:cc.Prefab,default:null},spacing:{type:cc.Float,default:1},spawnCount:{type:cc.Integer,default:3},scrollView:{type:cc.ScrollView,default:null},content:{type:cc.Node,default:null,visible:!1},adapter:{type:o,default:null,visible:!1,serializable:!1},_items:{type:cc.NodePool,default:null,visible:!1},_filledIds:{type:Object,default:{},visible:!1},horizontal:{default:!1,visible:!1},_itemHeight:1,_itemWidth:1,_itmesVisble:1,lastStartIndex:{type:cc.Integer,default:-1,visible:!1},scrollTopNotifyed:{default:!1,visible:!1},scrollBottomNofityed:{default:!1,visible:!1},pullDownCallback:{type:Object,default:null,visible:!1},pullUpCallback:{type:Object,default:null,visible:!1}},onLoad:function(){this.scrollView?(this.content=this.scrollView.content,this.horizontal=this.scrollView.horizontal,this.horizontal?(this.scrollView.vertical=!1,this.content.anchorX=0,this.content.x=this.content.getParent().width*this.content.getParent().anchorX):(this.scrollView.vertical=!0,this.content.anchorY=1,this.content.y=this.content.getParent().height*this.content.getParent().anchorY)):console.error("ListView need a scrollView for showing."),this._items=this._items||new cc.NodePool;var t=this._items.get()||cc.instantiate(this.itemTemplate);this._items.put(t),this._itemHeight=t.height||10,this._itemWidth=t.width||10,this.horizontal?this._itemsVisible=Math.ceil(this.content.getParent().width/this._itemWidth):this._itemsVisible=Math.ceil(this.content.getParent().height/this._itemHeight),console.log("\u53ef\u89c1\u533a\u57df\u7684item\u6570\u91cf\u4e3a:",this._itemsVisible),this.adjustEvent()},setAdapter:function(t){this.adapter=t,null!=this.adapter?null!=this.itemTemplate?(this._items.poolHandlerComp=this.adapter.getComponentType(),this.notifyUpdate()):cc.error("Listview \u672a\u8bbe\u7f6e\u5f85\u663e\u793a\u7684Item\u6a21\u677f."):cc.warn("adapter \u4e3a\u7a7a.")},getItemIndex:function(t){return Math.floor(Math.abs(t/(this._itemHeight+this.spacing)))},getPositionInView:function(t){var e=t.getParent().convertToWorldSpaceAR(t.position);return this.scrollView.node.convertToNodeSpaceAR(e)},notifyUpdate:function(t){var e=this;null!=this.adapter&&(t&&t.length>0?t.forEach(function(t){e._filledIds.hasOwnProperty(t)&&delete e._filledIds[t]}):Object.keys(this._filledIds).forEach(function(t){delete e._filledIds[t]}),this.lastStartIndex=-1,this.horizontal?this.content.width=this.adapter.getCount()*(this._itemWidth+this.spacing)+this.spacing:this.content.height=this.adapter.getCount()*(this._itemHeight+this.spacing)+this.spacing,this.scrollView.scrollToTop())},scrollToTop:function(t){this.scrollView.scrollToTop(t?1:0)},scrollToBottom:function(t){this.scrollView.scrollToBottom(t?1:0)},scrollToLeft:function(t){this.scrollView.scrollToLeft(t?1:0)},scrollToRight:function(t){this.scrollView.scrollToRight(t?1:0)},pullDown:function(t){this.pullDownCallback=t},pullUp:function(t){this.pullUpCallback=t},update:function(t){var e=this.checkNeedUpdate();e>=0&&this.updateView(e)},_layoutVertical:function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(0,-t.height*(.5+e)-this.spacing*(e+1))},_layoutHorizontal:function(t,e){this.content.addChild(t),t._tag=e,this._filledIds[e]=e,t.setPosition(-t.width*(.5+e)-this.spacing*(e+1),0)},getRecycleItems:function(t,e){var n=this,o=[];return this.content.children.forEach(function(i){(i._tag<t||i._tag>e)&&(o.push(i),delete n._filledIds[i._tag])}),o},updateView:function(t){var e=this,n=t,o=n+this._itemsVisible+(this.spawnCount||2),i=this.adapter.getCount();if(!(n>=i)){o>i?(o=i,this.scrollBottomNotifyed||(this.notifyScrollToBottom(),this.scrollBottomNotifyed=!0)):this.scrollBottomNotifyed=!1,this.getRecycleItems(n-(this.spawnCount||2),o).forEach(function(t){e._items.put(t)});var s=this.findUpdateIndex(n,o),r=!0,c=!1,a=void 0;try{for(var l,u=s[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var d=l.value,h=this.adapter._getView(this._items.get()||cc.instantiate(this.itemTemplate),d);this.horizontal?this._layoutHorizontal(h,d):this._layoutVertical(h,d)}}catch(t){c=!0,a=t}finally{try{!r&&u.return&&u.return()}finally{if(c)throw a}}}},checkNeedUpdate:function(){if(null==this.adapter)return-1;var t=this.horizontal?this.content.x-this.content.getParent().width*this.content.getParent().anchorX:this.content.y-this.content.getParent().height*this.content.getParent().anchorY,e=Math.floor(t/((this.horizontal?this._itemWidth:this._itemHeight)+this.spacing));return e<0&&!this.scrollTopNotifyed?(this.notifyScrollToTop(),this.scrollTopNotifyed=!0,e):(e>0&&(this.scrollTopNotifyed=!1),this.lastStartIndex!=e?(this.lastStartIndex=e,e):-1)},findUpdateIndex:function(t,e){for(var n=[],o=t;o<e;o++)this._filledIds.hasOwnProperty(o)||n.push(o);return n},notifyScrollToTop:function(){!this.adapter||this.adapter.getCount()<=0||this.pullDownCallback&&this.pullDownCallback()},notifyScrollToBottom:function(){!this.adapter||this.adapter.getCount()<=0||this.pullUpCallback&&this.pullUpCallback()},adjustEvent:function(){var t=this;this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_END:cc.Node.EventType.MOUSE_UP,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this),this.content.on(this.isMobile()?cc.Node.EventType.TOUCH_CANCEL:cc.Node.EventType.MOUSE_LEAVE,function(){t.scrollTopNotifyed=!1,t.scrollBottomNotifyed=!1},this)},isMobile:function(){return cc.sys.isMobile||cc.sys.platform===cc.sys.WECHAT_GAME||cc.sys.platform===cc.sys.QQ_PLAY}});e.exports={ListAdapter:o,ListView:i},cc._RF.pop()},{}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"a0e26giQ25CbryNSYfouOEG","Loading");cc.Class({extends:cc.Component,statics:{loadingNode:null,loadingComponent:null,show:function(t){cc.isValid(this.loadingNode)||(this.loadingNode=zy.Node.createNode({name:"loading",width:2*zy.constData.DesignSize.width,height:2*zy.constData.DesignSize.width,zIndex:zy.constData.ZIndex.LOADING,parent:zy.director.getUiRoot()}),this.loadingComponent=this.loadingNode.addComponent("Loading"),this.loadingComponent.init()),this.loadingComponent.show(t)},hide:function(t){cc.isValid(this.loadingNode)&&this.loadingComponent.hide(t)}},properties:{},init:function(){this.loadingList=[],this.node.width=2*zy.constData.DesignSize.width,this.node.height=2*zy.constData.DesignSize.height,this.node.addComponent(cc.BlockInputEvents),this.maskNode=zy.Sprite.createNode({name:"maskNode",url:"textures/common/mask",parent:this.node,size:cc.size(2*zy.constData.DesignSize.width,2*zy.constData.DesignSize.height),loadCallback:function(t,e){e.width=2*zy.constData.DesignSize.width,e.height=2*zy.constData.DesignSize.height}.bind(this)}),zy.Label.createNode({string:"Loading...",parent:this.maskNode,systemFont:!1}),this.maskNode.active=!1},show:function(t){-1==this.loadingList.indexOf(t)&&this.loadingList.push(t),this.node.active=!0,this.node.stopAllActions();var e=cc.sequence(cc.delayTime(1),cc.callFunc(function(){this.delaySeq=null,this.maskNode.active=!0}.bind(this)));this.node.runAction(e)},hide:function(t){var e=this.loadingList.indexOf(t);e>-1&&this.loadingList.splice(e,1),0==this.loadingList.length&&(this.node.active=!1,this.maskNode.active=!1)},clean:function(){this.node.active=!1,this.loadingList=[]}});cc._RF.pop()},{}],LoggerHelper:[function(t,e,n){"use strict";cc._RF.push(e,"6635fCdo61II6O7HUaipHsk","LoggerHelper");var o=t("./AFLogger"),i=t("./FBLogger"),s=t("./TrackingLogger"),r=t("./RangerLogger"),c=cc.Class({statics:{logEventWatchAds:function(t){101==CHANNEL_ID||102==CHANNEL_ID?(o.logEventWatchAds(t),i.logEventWatchAds(t)):201!=CHANNEL_ID&&201!=CHANNEL_ID||(s.logEventWatchAds(t),r.logEventWatchAds(t))},logEventLogin:function(t){101==CHANNEL_ID||102==CHANNEL_ID||201!=CHANNEL_ID&&202!=CHANNEL_ID||(s.logEventLogin(t),r.logEventLogin(t))}}});zy.LogHelper=c,cc._RF.pop()},{"./AFLogger":"AFLogger","./FBLogger":"FBLogger","./RangerLogger":"RangerLogger","./TrackingLogger":"TrackingLogger"}],Md5:[function(t,e,n){"use strict";cc._RF.push(e,"df9553a0RtFNZ/mf3UeoRp9","Md5");var o=0,i="",s=8;function r(t){return _(c(y(t),t.length*s))}function c(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,o=-271733879,i=-1732584194,s=271733878,r=0;r<t.length;r+=16){var c=n,a=o,f=i,g=s;o=h(o=h(o=h(o=h(o=d(o=d(o=d(o=d(o=u(o=u(o=u(o=u(o=l(o=l(o=l(o=l(o,i=l(i,s=l(s,n=l(n,o,i,s,t[r+0],7,-680876936),o,i,t[r+1],12,-389564586),n,o,t[r+2],17,606105819),s,n,t[r+3],22,-1044525330),i=l(i,s=l(s,n=l(n,o,i,s,t[r+4],7,-176418897),o,i,t[r+5],12,1200080426),n,o,t[r+6],17,-1473231341),s,n,t[r+7],22,-45705983),i=l(i,s=l(s,n=l(n,o,i,s,t[r+8],7,1770035416),o,i,t[r+9],12,-1958414417),n,o,t[r+10],17,-42063),s,n,t[r+11],22,-1990404162),i=l(i,s=l(s,n=l(n,o,i,s,t[r+12],7,1804603682),o,i,t[r+13],12,-40341101),n,o,t[r+14],17,-1502002290),s,n,t[r+15],22,1236535329),i=u(i,s=u(s,n=u(n,o,i,s,t[r+1],5,-165796510),o,i,t[r+6],9,-1069501632),n,o,t[r+11],14,643717713),s,n,t[r+0],20,-373897302),i=u(i,s=u(s,n=u(n,o,i,s,t[r+5],5,-701558691),o,i,t[r+10],9,38016083),n,o,t[r+15],14,-660478335),s,n,t[r+4],20,-405537848),i=u(i,s=u(s,n=u(n,o,i,s,t[r+9],5,568446438),o,i,t[r+14],9,-1019803690),n,o,t[r+3],14,-187363961),s,n,t[r+8],20,1163531501),i=u(i,s=u(s,n=u(n,o,i,s,t[r+13],5,-1444681467),o,i,t[r+2],9,-51403784),n,o,t[r+7],14,1735328473),s,n,t[r+12],20,-1926607734),i=d(i,s=d(s,n=d(n,o,i,s,t[r+5],4,-378558),o,i,t[r+8],11,-2022574463),n,o,t[r+11],16,1839030562),s,n,t[r+14],23,-35309556),i=d(i,s=d(s,n=d(n,o,i,s,t[r+1],4,-1530992060),o,i,t[r+4],11,1272893353),n,o,t[r+7],16,-155497632),s,n,t[r+10],23,-1094730640),i=d(i,s=d(s,n=d(n,o,i,s,t[r+13],4,681279174),o,i,t[r+0],11,-358537222),n,o,t[r+3],16,-722521979),s,n,t[r+6],23,76029189),i=d(i,s=d(s,n=d(n,o,i,s,t[r+9],4,-640364487),o,i,t[r+12],11,-421815835),n,o,t[r+15],16,530742520),s,n,t[r+2],23,-995338651),i=h(i,s=h(s,n=h(n,o,i,s,t[r+0],6,-198630844),o,i,t[r+7],10,1126891415),n,o,t[r+14],15,-1416354905),s,n,t[r+5],21,-57434055),i=h(i,s=h(s,n=h(n,o,i,s,t[r+12],6,1700485571),o,i,t[r+3],10,-1894986606),n,o,t[r+10],15,-1051523),s,n,t[r+1],21,-2054922799),i=h(i,s=h(s,n=h(n,o,i,s,t[r+8],6,1873313359),o,i,t[r+15],10,-30611744),n,o,t[r+6],15,-1560198380),s,n,t[r+13],21,1309151649),i=h(i,s=h(s,n=h(n,o,i,s,t[r+4],6,-145523070),o,i,t[r+11],10,-1120210379),n,o,t[r+2],15,718787259),s,n,t[r+9],21,-343485551),n=p(n,c),o=p(o,a),i=p(i,f),s=p(s,g)}return Array(n,o,i,s)}function a(t,e,n,o,i,s){return p(g(p(p(e,t),p(o,s)),i),n)}function l(t,e,n,o,i,s,r){return a(e&n|~e&o,t,e,i,s,r)}function u(t,e,n,o,i,s,r){return a(e&o|n&~o,t,e,i,s,r)}function d(t,e,n,o,i,s,r){return a(e^n^o,t,e,i,s,r)}function h(t,e,n,o,i,s,r){return a(n^(e|~o),t,e,i,s,r)}function f(t,e){var n=y(t);n.length>16&&(n=c(n,t.length*s));for(var o=Array(16),i=Array(16),r=0;r<16;r++)o[r]=909522486^n[r],i[r]=1549556828^n[r];var a=c(o.concat(y(e)),512+e.length*s);return c(i.concat(a),640)}function p(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function g(t,e){return t<<e|t>>>32-e}function y(t){for(var e=Array(),n=(1<<s)-1,o=0;o<t.length*s;o+=s)e[o>>5]|=(t.charCodeAt(o/s)&n)<<o%32;return e}function v(t){for(var e="",n=(1<<s)-1,o=0;o<32*t.length;o+=s)e+=String.fromCharCode(t[o>>5]>>>o%32&n);return e}function _(t){for(var e=o?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*t.length;i++)n+=e.charAt(t[i>>2]>>i%4*8+4&15)+e.charAt(t[i>>2]>>i%4*8&15);return n}function b(t){for(var e="",n=0;n<4*t.length;n+=3)for(var o=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255,s=0;s<4;s++)8*n+6*s>32*t.length?e+=i:e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(o>>6*(3-s)&63);return e}e.exports={md5_hex:r,md5_b64:function(t){return b(c(y(t),t.length*s))},md5_str:function(t){return v(c(y(t),t.length*s))},md5_hex_hmac:function(t,e){return _(f(t,e))},md5_b64_hmac:function(t,e){return b(f(t,e))},md5_str_hmac:function(t,e){return v(f(t,e))}},cc._RF.pop()},{}],NetProxy:[function(t,e,n){"use strict";cc._RF.push(e,"5c22dewAxJE+aRwAPMkEflJ","NetProxy");var o=t("./GameNetwork"),i=t("./GameProtocols"),s=cc.Class({ctor:function(){this.network=null,this._cachePushCallback=[]},init:function(){this.network=new o,this.network.setDelegate(this),this.initPushCallback()},connect:function(){this.network.connect("ws://127.0.0.1:3005")},closeConnect:function(){this.network.closeConnect()},isNetworkOpened:function(){return this.network.isSocketOpened()},isNetworkClosed:function(){return this.network.isSocketClosed()},onNetworkOpen:function(){Global.eventMgr.emit(Global.config.EVENT_NETWORK_OPENED)},onNetworkClose:function(){Global.eventMgr.emit(Global.config.EVENT_NETWORK_CLOSED)},initPushCallback:function(){var t=this,e=function(e){t.pushCallback(e)};this.network.registerPushResponseCallback("chat",e),this.network.registerPushResponseCallback("exitRoom",e),this.network.registerPushResponseCallback("playChess",e)},registerPush:function(t,e,n){e&&n&&(e=e.bind(n));this.network.registerPushResponseCallback(t,function(t){e&&e(t),Global.eventMgr.emit(t.act,t)})},dealCachePush:function(){},beatHeart:function(t){var e=new i.HeartRequest;e.t=Date.now(),this.network.sendRequest(e,t)},chat:function(t){var e=new i.ChatRequest;e.uid="",e.msg=t,this.network.sendRequest(e)},randomMatch:function(){var t=new i.RandomMatchRequest;t.uid="",this.network.sendRequest(t)},playChess:function(t){var e=new i.PlayChessRequest;e.uid="",e.lastBedIndex=t.lastBedIndex,e.cid=t.cid,e.dest=t.dest,this.network.sendRequest(e)},selectChess:function(t){var e=new i.SelectChessRequest;e.cid=t.cid,this.network.sendRequest(e)},createRoom:function(t){var e=new i.CreateRoomRequest;this.network.sendRequest(e,t)},joinRoom:function(t){var e=new i.JoinRoomRequest;e.rid=t,this.network.sendRequest(e)},login:function(t,e){var n=new i.LoginRequest;e&&(n.token=e),n.origin=t,n.os=cc.sys.os,n.osVersion=cc.sys.osVersion;n.uid="";this.network.sendRequest(n,function(t){0==t.err?Global.eventMgr.emit(Global.config.EVENT_LOGIN_SUC,t):Global.eventMgr.emit(Global.config.EVENT_LOGIN_FAILED,t)})},logout:function(){},bindFacebook:function(t){},getRank:function(t){},pushCallback:function(t){switch(t.act){case"friendInfoSync":this.pushFriendSendTakeSp(t);break;case"playChess":this.pushPlayChess(t);break;case"chat":this.pushChat(t);break;case"exitRoom":this.pushExitRoom(t)}},pushFriendSendTakeSp:function(t){},pushChat:function(t){Global.eventMgr.emit(Global.config.EVENT_CHAT,t)},pushExitRoom:function(t){Global.eventMgr.emit(Global.config.EVENT_EXITROOM,t)},pushPlayChess:function(t){Global.eventMgr.emit(Global.config.EVENT_PLAYCHESS,t)},debug_addCoins:function(t){var e=new i.DebugChangeMeRequest;e.cmd="btnAddCoins"===t?"player coins add 100000000":"btnClearCoins"===t?"player coins 0":"btnAddEnergy"===t?"player sp add 10":"btnClearEnergy"===t?"player sp 0":"btnAddWp"==t?"player wp add 10":"btnClearWp"==t?"player wp 0":"btnUnwrap"==t?"player fbuid null":"btnWizard1"==t?"player wizard1 0":"btnWizard2"==t?"player wizard2 0":"btnClearShield"==t?"player shield 0":"btnSpEc"==t?"SpEc stepInterval 60000":"btnFarmEc"==t?"FarmEc stepInterval 60000":"btnSpEcBack"==t?"SpEc stepInterval 3600000":"btnFarmBack"==t?"FarmEc stepInterval 86400000":"btnUpdateBuild"==t?"Building lv 5":t}});e.exports=s,cc._RF.pop()},{"./GameNetwork":"GameNetwork","./GameProtocols":"GameProtocols"}],NodePoolMng:[function(t,e,n){"use strict";cc._RF.push(e,"670dbVclHRF+YTksSd2vsqs","NodePoolMng");var o=function(t){0};cc.Class({extends:cc.Component,properties:{bulletPFList:[cc.Prefab],enemyPFList:[cc.Prefab],normalEffectPF:cc.Prefab,bloodDecreasePF:cc.Prefab,warningEnemy2PF:cc.Prefab,bulletCounts:30,enemyCounts:40,normalEffectCounts:30,warningEnemy2Counts:10},onLoad:function(){zy.nodePoolMng=this,this.bulletPoolDic={},this.bulletPFDic={},this.enemyPoolDic={},this.enemyPFDic={},this.normalEffPool=null,this.bloodDecPool=null,this.warningEnemy2Pool=null,this.init()},init:function(){var t=!0,e=!1,n=void 0;try{for(var o,i=this.bulletPFList[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,r=new cc.NodePool;this.bulletPoolDic[s._name]=r,this.bulletPFDic[s._name]=s;for(var c=0;c<this.bulletCounts;c++){var a=cc.instantiate(s);r.put(a)}}}catch(t){e=!0,n=t}finally{try{!t&&i.return&&i.return()}finally{if(e)throw n}}var l=!0,u=!1,d=void 0;try{for(var h,f=this.enemyPFList[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var p=h.value;r=new cc.NodePool;this.enemyPoolDic[p._name]=r,this.enemyPFDic[p._name]=p;var g=this.enemyCounts;"enemy7"==p._name&&(g=1);for(var y=0;y<g;y++){var v=cc.instantiate(p);r.put(v)}}}catch(t){u=!0,d=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw d}}this.normalEffPool=new cc.NodePool("NormalEffect");for(var _=0;_<this.normalEffectCounts;_++){var b=cc.instantiate(this.normalEffectPF);this.normalEffPool.put(b)}this.bloodDecPool=new cc.NodePool;for(var m=0;m<this.normalEffectCounts;m++){var S=cc.instantiate(this.bloodDecreasePF);this.bloodDecPool.put(S)}this.warningEnemy2Pool=new cc.NodePool;for(var A=0;A<this.warningEnemy2Counts;A++){var w=cc.instantiate(this.warningEnemy2PF);this.warningEnemy2Pool.put(w)}},getBullet:function(t){cc.assert(this.bulletPoolDic[t],"\u9519\u8bef\u7684Bullet name: "+t+"\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684pool");var e=this.bulletPoolDic[t].size();return e<=0?cc.instantiate(this.bulletPFDic[t]):(o(t+" pool size ="+e),this.bulletPoolDic[t].get())},putBullet:function(t){var e=t.name;cc.assert(this.bulletPoolDic[e],"\u9519\u8bef\u7684Bullet, name: "+e+"\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684pool"),this.bulletPoolDic[e].put(t);var n=this.bulletPoolDic[e].size();o(e+" pool size ="+n)},getEnmey:function(t){cc.assert(this.enemyPoolDic[t],"\u9519\u8bef\u7684Enemy name: "+t+"\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684pool");var e=this.enemyPoolDic[t].size();return e<=0?cc.instantiate(this.enemyPFDic[t]):(o(t+" pool size ="+e),this.enemyPoolDic[t].get())},putEnemy:function(t){var e=t.name;cc.assert(this.enemyPoolDic[e],"\u9519\u8bef\u7684Enemy, name: "+e+"\uff0c\u627e\u4e0d\u5230\u5bf9\u5e94\u7684pool"),this.enemyPoolDic[e].put(t);var n=this.enemyPoolDic[e].size();o(e+" pool size ="+n)},getNormalEffect:function(){return this.normalEffPool.size()<=0?cc.instantiate(this.normalEffectPF):this.normalEffPool.get()},putNormalEffect:function(t){this.normalEffPool.put(t)},getBloodDecNode:function(){var t=this.bloodDecPool.size();return t<=0?cc.instantiate(this.bloodDecreasePF):(o("bloodDecPool size ="+t),this.bloodDecPool.get())},putBloodDecNode:function(t){this.bloodDecPool.put(t),o("bloodDecPool size ="+this.bloodDecPool.size())},getWarningEnemy2DecNode:function(){return this.warningEnemy2Pool.size()<=0?cc.instantiate(this.warningEnemy2PF):this.warningEnemy2Pool.get()},putWarningEnemy2DecNode:function(t){this.warningEnemy2Pool.put(t)}});cc._RF.pop()},{}],Node:[function(t,e,n){"use strict";cc._RF.push(e,"cc309AO5opH8r5fSzJ5OlUL","Node");var o=cc.Class({extends:cc.Node,statics:{createNode:function(t){var e=new zy.Node;return zy.Node.updateNode(e,t),e},updateNode:function(t,e){e.name&&(t.name=e.name),e.anchor&&t.setAnchorPoint(e.anchor),"number"==typeof e.x&&(t.x=e.x),"number"==typeof e.y&&(t.y=e.y),e.position&&(t.position=e.position),"number"==typeof e.width&&(t.width=e.width),"number"==typeof e.height&&(t.height=e.height),e.size&&(t.width=e.size.x,t.height=e.size.y),"number"==typeof e.opacity&&(t.opacity=e.opacity),e.color&&(t.color=e.color),"number"==typeof e.zIndex&&(t.zIndex=e.zIndex),"number"==typeof e.rotation&&(t.rotation=e.rotation),"number"==typeof e.scale&&(t.scale=e.scale),"number"==typeof e.scaleX&&(t.scaleX=e.scaleX),"number"==typeof e.scaleY&&(t.scaleY=e.scaleY),e.hasOwnProperty("flipX")&&(e.flipX?t.scaleX=-1*Math.abs(t.getScaleX()):t.scaleX=1*Math.abs(t.getScaleX())),e.hasOwnProperty("flipY")&&(e.flipY?t.scaleY=-1*Math.abs(t.getScaleY()):t.scaleY=1*Math.abs(t.getScaleY())),e.hasOwnProperty("active")&&(t.active=e.active),e.parent&&(t.parent=e.parent)}},properties:{}});zy.Node=e.exports=o,cc._RF.pop()},{}],OpenAdsHelper:[function(t,e,n){"use strict";cc._RF.push(e,"a863aVTl61ElbDQnfX6cWdV","OpenAdsHelper");var o="com/zygame/utils/OpenAdsHelper",i=cc.Class({statics:{showInterstitialAds:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(o,"showInteractionAds","(Ljava/lang/String;)V",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","showInteractionAds:",t)):void 0},isIntersitialReady:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(o,"isInteractionReady","(Ljava/lang/String;)Z",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","isInteractionReady:",t)):void 0},loadIntersitialAds:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(o,"loadExpressAd","(Ljava/lang/String;)V",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","loadExpressAd:",t)):void 0},isRdAdsReady:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(o,"isRewardAdsReady","(Ljava/lang/String;)Z",t)):cc.sys.os==cc.sys.OS_IOS&&(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","isRewardAdsReady:",t))},loadRdAds:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(o,"loadRewardAds","(Ljava/lang/String;)V",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","loadRewardAds:",t)):void 0},showRdAds:function(t){return cc.sys.os==cc.sys.OS_ANDROID?(t=zy.constData.OpenAdsKey[t],jsb.reflection.callStaticMethod(o,"showRewardAds","(Ljava/lang/String;)V",t)):cc.sys.os==cc.sys.OS_IOS?(t=zy.constData.OpenAdsKeyIOS[t],jsb.reflection.callStaticMethod("BuAdHelper","showRewardAds:",t)):void 0}}});zy.OpenAdsHelper=i,cc._RF.pop()},{}],PlatformUtils:[function(t,e,n){"use strict";cc._RF.push(e,"b6bf91lbppKyJvy6Qf7TX6P","PlatformUtils");var o="com/zygame/utils/PlatformUtils";function i(t){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"vibrator","(I)V",t):(cc.sys.os,cc.sys.OS_IOS)}function s(){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"getDeviceID","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("PlatformUtils","getIdfa"):""}e.exports={getVibrator:i,getMobilePhoneID:s,getAppVersion:function(){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"getPackageVersion","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("PlatformUtils","getAppVersion"):"1.0.0w"},vibratorShort:function(){zy.dataMng.userData.vibOn&&(cc.sys.os==cc.sys.OS_ANDROID?i(25):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("PlatformUtils","vibratorShort"))},vibratorLong:function(){zy.dataMng.userData.vibOn&&(cc.sys.os==cc.sys.OS_ANDROID?i(100):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("PlatformUtils","vibratorLong"))},rmSplash:function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"rmSplashView","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("RootViewController","removeSplashView")},getMobileIdfa:function(){return s()},getMobileMac:function(){return s()}},cc._RF.pop()},{}],PopBase:[function(t,e,n){"use strict";cc._RF.push(e,"0214dGdWP5Aqaga6UmWOdvS","PopBase");var o=cc.Class({extends:cc.Component,properties:{maskOpacity:255,touchClose:!0},initBase:function(t,e){this.popName=e,this.componentName=null,this.component=null;var n=this.popName.split("/");n.length>0&&(this.componentName=n[n.length-1],this.component=this.node.getComponent(this.componentName)),this.onLaunchedCallback=t.onLaunchedCallback,this.onClosedCallback=t.onClosedCallback,zy.Button.createNode({name:"maskBtn",zIndex:zy.constData.ZIndex.POP_MASK,parent:this.node,url:"textures/common/mask",touchAction:!1,commonClickAudio:!1,opacity:this.maskOpacity,width:5*zy.constData.DesignSize.width,height:5*zy.constData.DesignSize.height,eventHandler:{target:this.node,component:this.componentName,customEventData:this.componentName,handler:this.touchClose?"closeCallback":null}}),this.onLaunchedCallback&&this.onLaunchedCallback(),this.component.popName=this.popName,this.component.init&&this.component.init(t)},cleanBase:function(){this.component&&this.component.clean&&this.component.clean(),cc.isValid(this.node)&&this.node.destroy(),this.onClosedCallback&&this.onClosedCallback()}});zy.PopBase=e.exports=o,cc._RF.pop()},{}],ProgressBar:[function(t,e,n){"use strict";cc._RF.push(e,"7781cgsMwdAWZJB8Vw/YTXI","ProgressBar"),cc.Class({extends:cc.ProgressBar,setProgressBarToPercent:function(t,e,n){if(t<=0)return this.progress=e,void(n&&n());this.unscheduleAllCallbacks(),this.speed=(e-this.progress)/t,this.desProgress=e,this.progressCb=n,this.schedule(this.updateProgressBar.bind(this),0)},updateProgressBar:function(t){this.speed>0&&this.progress<this.desProgress||this.speed<0&&this.progress>this.desProgress?this.progress+=this.speed*t:(this.progress=this.desProgress,this.unscheduleAllCallbacks(),this.progressCb&&this.progressCb())}}),cc._RF.pop()},{}],ProgressCircle:[function(t,e,n){"use strict";cc._RF.push(e,"84313JeWl9JKJA3YMCZTbFD","ProgressCircle"),cc.Class({extends:cc.Component,properties:{bar:cc.Sprite,progress:{default:0,min:0,max:1,notify:function(){this._updateProgress()}}},_updateProgress:function(){this.bar&&this.bar.type==cc.Sprite.Type.FILLED?this.bar.fillRange=this.progress:cc.log("\u5706\u5f62\u8fdb\u5ea6\u6761\u7684bar\u5fc5\u987b\u8bbe\u4e3afilled\u6a21\u5f0f\u3002")},setProgressBarToPercent:function(t,e,n){if(t<=0)return this.progress=e,void(n&&n());this.unscheduleAllCallbacks(),this.speed=(e-this.progress)/t,this.desProgress=e,this.progressCb=n,this.schedule(this.updateProgressBar.bind(this),0)},updateProgressBar:function(t){this.speed>0&&this.progress<this.desProgress||this.speed<0&&this.progress>this.desProgress?this.progress+=this.speed*t:(this.progress=this.desProgress,this.unscheduleAllCallbacks(),this.progressCb&&this.progressCb())}}),cc._RF.pop()},{}],RangerLogger:[function(t,e,n){"use strict";cc._RF.push(e,"972dd3so6xBQbKfwz5fE+GK","RangerLogger");var o="com/zygame/utils/RangerAppLogHelper";cc.Class({statics:{logEventWatchAds:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(o,"logEvent","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS},logEventLogin:function(t){if(cc.sys.os==cc.sys.OS_ANDROID)return jsb.reflection.callStaticMethod(o,"logLogin","(Ljava/lang/String;)V",t);cc.sys.os,cc.sys.OS_IOS}}}),cc._RF.pop()},{}],SettingPop:[function(t,e,n){"use strict";cc._RF.push(e,"aa366UT5FBP96nc5xY90RAT","SettingPop");var o=t("./../framework/platform/PlatformUtils");cc.Class({extends:cc.Component,properties:{vibNode:cc.Node,soundsNode:cc.Node,soudsVolume:cc.Node,versionLabel:cc.Label},init:function(t){this.soundsNode.getComponent("SwitchControl").setIsOn(zy.audio.getBGMEnabled(),!1),this.soudsVolume.getComponent(cc.Slider).progress=zy.audio.getBGMVomue(),this.versionLabel.string="v"+o.getAppVersion()+"  c"+CHANNEL_ID},onVibCall:function(){zy.audioMng.playButtonAudio(),zy.dataMng.userData.vibOn=!zy.dataMng.userData.vibOn},onSoundsCall:function(t){zy.audio.playEffect(zy.audio.Effect.CommonClick),zy.audio.setBGMEnabled(t.isOn),zy.audio.setEffectsEnabled(t.isOn)},sliderCallback:function(t){zy.audio.setBGMVolume(t.progress),zy.audio.setEffectsVolume(t.progress)},closeCallback:function(){zy.director.closePop(this.popName)}}),cc._RF.pop()},{"./../framework/platform/PlatformUtils":"PlatformUtils"}],ShaderUtils:[function(t,e,n){"use strict";cc._RF.push(e,"4a0d1DD3flJtKMaQ07c8zdn","ShaderUtils");var o={Gray:"Gray",Normal:"Normal",Bright:"Bright"};cc.Class({extends:cc.Component,statics:{Effect:o,Shader:{Normal:{vert_web:"Default_noMVP_vert",vert_native:"Default_noMVP_vert",frag:"Normal_frag"},Gray:{vert_web:"Default_noMVP_vert",vert_native:"Default_noMVP_vert",frag:"Gray_frag"},Bright:{vert_web:"Default_noMVP_vert",vert_native:"Default_noMVP_vert",frag:"Bright_frag"}},init:function(){this.shaderPrograms={}},setShader:function(t,e){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){var n="";e==o.Normal?n="2d-sprite":e==o.Gray?n="2d-gray-sprite":e==o.Bright&&(n="2d-bright-sprite");var i=cc.Material.getBuiltinMaterial(n);i?(i=cc.Material.getInstantiatedMaterial(i,t),t.setMaterial(0,i)):cc.log("ShaderUtils: matrial: "+e+" is not exsit")}}}}),cc._RF.pop()},{}],Sprite:[function(t,e,n){"use strict";cc._RF.push(e,"6143cwQ3s5Gq5QJ4PeOZFhZ","Sprite");var o=cc.Class({extends:cc.Sprite,statics:{createNode:function(t){var e=new cc.Node;return e.addComponent(zy.Sprite),zy.Sprite.updateNode(e,t),e},updateNode:function(t,e){var n=t.getComponent(cc.Sprite),o=e.url,i=e.spriteFrame,s=e.loadCallback,r=function(o){o&&(n.spriteFrame=o),e.hasOwnProperty("state")&&n.setState(e.state),e.srcBlendFactor&&(n.srcBlendFactor=e.srcBlendFactor),e.dstBlendFactor&&(n.dstBlendFactor=e.dstBlendFactor),e.hasOwnProperty("parent")&&!cc.isValid(e.parent)||zy.Node.updateNode(t,e)};o?(n.url=o,cc.loader.loadRes(o,cc.SpriteFrame,null,function(e,i){e?cc.error("load: "+o+" error."):cc.isValid(t)&&n.url==o&&(n.spriteFrame=i,r()),s&&s(e,t)})):i?r(i):r()}}});zy.Sprite=e.exports=o,cc._RF.pop()},{}],SwitchControl:[function(t,e,n){"use strict";cc._RF.push(e,"5c214EcPrdAlL5yW61AqZqh","SwitchControl"),cc.Class({extends:cc.Component,properties:{_isOn:!0,isOn:{set:function(t){this.setIsOn(t,!0)},get:function(){return this._isOn}},interactable:!0,bgOnSp:cc.Sprite,bgOffSp:cc.Sprite,barSp:cc.Sprite,switchEvents:{default:[],type:cc.Component.EventHandler}},setIsOn:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._isOn=t,this._updateState(e)},_updateState:function(t){var e=this.isOn?this.bgOffSp.node.x:this.bgOnSp.node.x;t?(this.barSp.node.stopAllActions(),this.barSp.node.runAction(cc.moveTo(.1,cc.v2(e,this.barSp.node.y)))):this.barSp.node.x=e},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClick,this)},onClick:function(t){this.interactable&&(this.isOn=!this.isOn,this.switchEvents&&cc.Component.EventHandler.emitEvents(this.switchEvents,this))},start:function(){}}),cc._RF.pop()},{}],TestScene:[function(t,e,n){"use strict";cc._RF.push(e,"38e56QiJiVISLcEczrs95RS","TestScene"),cc.Class({extends:cc.Component,properties:{debugBtn:cc.Node},init:function(){},start:function(){this.debugBtn.active=DEBUG_OPEN,zy.audio.playBGM(zy.audio.BGM.MAIN)},debugCall:function(){zy.director.createPop("prefabs/pop/DebugPop")},settingCall:function(){zy.director.createPop("prefabs/pop/SettingPop")}}),cc._RF.pop()},{}],Tip:[function(t,e,n){"use strict";cc._RF.push(e,"6fc55rUrPFDxLyLc2cpq/Zh","Tip"),cc.Class({extends:cc.Component,properties:{tipLabel:cc.Label,tipBg:cc.Node},statics:{tipNode:null,show:function(t){cc.loader.loadRes("prefabs/common/Tip",cc.Prefab,function(e,n){e||(cc.isValid(this.tipNode)&&this.tipNode.destroy(),this.tipNode=cc.instantiate(n),this.tipNode.zIndex=zy.constData.ZIndex.TIP,this.tipNode.parent=zy.director.getUiRoot(),this.tipNode.getComponent("Tip").init(t))}.bind(this))}},onLoad:function(){this.originalWidth=this.tipBg.width,this.originalHeight=this.tipBg.height,this.tipBg.opacity=0,this.tipLabel.string=""},init:function(t){this.text=t,this.node.y=0,this.tipLabel.string=this.text,this.tipLabel.node.height>this.originalHeight&&(this.tipBg.height=this.tipLabel.node.height+50);var e=cc.sequence(cc.spawn(cc.moveBy(.25,cc.v2(0,100)),cc.fadeIn(.25)),cc.delayTime(1.25),cc.spawn(cc.moveBy(.25,cc.v2(0,100)),cc.fadeOut(.25)),cc.callFunc(function(){this.node.destroy()}.bind(this)));this.tipBg.runAction(e)}}),cc._RF.pop()},{}],TrackingLogger:[function(t,e,n){"use strict";cc._RF.push(e,"6f7dejhclFBULHAZ3Q42UcD","TrackingLogger");var o="com/zygame/utils/TrackingHelper";cc.Class({statics:{logEventWatchAds:function(t){var e="event_"+t[t.length-1];return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"logEvent","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","logEvent:",e):void 0},logEventLogin:function(t){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"logLogin","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","logLogin:",t):void 0},logEventRegister:function(t){return cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o,"logRegister","(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod("AppController","logRegister:",t):void 0}}}),cc._RF.pop()},{}],Turning:[function(t,e,n){"use strict";cc._RF.push(e,"4a8ecMKHTROFaHFa4n4S+VV","Turning"),cc.Class({extends:cc.Component,properties:{turn:cc.Sprite},prepare:function(){this.turnStatus=0,this.curSpeed=0,this.spinTime=0,this.gearNum=8,this.gearAngle=360/this.gearNum,this.defaultAngle=180,this.finalAngle=0,this.decAngle=360,this.springback=!1,this.targetId=6,this.maxSpeed=10,this.duration=2,this.acc=.1},init:function(){this.prepare()},loadRewardItem:function(){},startTurn:function(t){0==this.turnStatus&&(this.caculateFinalAngle(t),this.turnStatus=1,this.curSpeed=0,this.spinTime=0)},forceStopTurn:function(){this.turnStatus=0,this.turn.node.rotation=this.finalAngle},caculateFinalAngle:function(t){t<=0&&(cc.log("targetId must be big than 0"),t=1),this.targetId=t,cc.log("====targetId:"+this.targetId),this.finalAngle=360-(this.targetId-1)*this.gearAngle+this.defaultAngle,this.springback&&(this.finalAngle+=this.gearAngle)},showRes:function(){this.forceStopTurn(),cc.log("show res: "+this.targetId)},update:function(t){if(0!=this.turnStatus)if(1==this.turnStatus)if(this.spinTime+=t,this.turn.node.rotation+=this.curSpeed,this.curSpeed<this.maxSpeed)this.curSpeed+=this.acc;else{if(this.spinTime<this.duration)return;this.turn.node.rotation=this.finalAngle,this.turnStatus=2}else if(2==this.turnStatus){var e=this.turn.node.rotation,n=e-this.finalAngle;if(this.curSpeed=this.maxSpeed*((this.decAngle-n)/this.decAngle)+.2,this.turn.node.rotation=e+this.curSpeed,this.decAngle-n<=0)if(this.turnStatus=0,this.turn.node.rotation=this.finalAngle,this.springback){var o=cc.rotateBy(.5,-this.gearAngle),i=cc.sequence(cc.delayTime(.2),o,cc.callFunc(this.showRes,this));this.turn.node.runAction(i)}else this.showRes()}}}),cc._RF.pop()},{}],UI:[function(t,e,n){"use strict";cc._RF.push(e,"3d0d8pVBVlMerkrdm4ogFdE","UI"),cc.Class({extends:cc.Component,statics:{init:function(){this.alert=t("Alert"),this.loading=t("Loading"),this.tip=t("Tip")},seekChildByName:function(t,e){if(t.name==e)return t;for(var n in t.children){var o=t.children[n];if(o){var i=zy.ui.seekChildByName(o,e);if(i)return i}}},bgScaleAction:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.scale=.5;var n=cc.sequence(cc.scaleTo(.2,1).easing(cc.easeSineOut()),cc.callFunc(function(){e.callback&&e.callback()}));t.runAction(n)},numScaleAction:function(t,e){t.stopAllActions();var n=cc.sequence(cc.scaleTo(.1,1.2).easing(cc.easeSineOut()),cc.scaleTo(.1,.8).easing(cc.easeSineInOut()),cc.scaleTo(.1,1.1).easing(cc.easeSineInOut()),cc.scaleTo(.1,.95).easing(cc.easeSineInOut()),cc.scaleTo(.1,1).easing(cc.easeSineInOut()));t.runAction(n)},btnScaleActoin:function(t){for(var e in t){var n=t[e],o=n.scale;n.stopAllActions(),n.scale=o/4,n.runAction(cc.sequence(cc.scaleTo(.12,o+.1),cc.scaleTo(.08,o-.1),cc.scaleTo(.08,o)))}},shakeScreen:function(t){var e=t.node,n=t.times?t.times:1,o=t.hasOwnProperty("offsetX")?t.offsetX:20,i=t.hasOwnProperty("offsetY")?t.offsetY:20,s=t.ratio?t.ratio:1,r=t.rate?t.rate:1/15,c=e.basePosition?e.basePosition:e.position;e.stopAllActions(),e.setPosition(c),e.basePosition=c;var a=[],l=cc.moveBy(r,cc.v2(o,i)).easing(cc.easeOut(1));a.push(l);for(var u=0;u<n-1;u++){var d=cc.moveBy(r,cc.v2(2*-o,2*-i)).easing(cc.easeOut(1));a.push(d);var h=cc.moveBy(r,cc.v2(3*o/2,3*i/2)).easing(cc.easeOut(1));a.push(h),o/=s,i/=s}var f=cc.moveTo(r,c).easing(cc.easeOut(1));a.push(f),e.runAction(cc.sequence(a))},flyNode:function(t,e,n,o,i,s){if(!(i<=0)){n=e.convertToNodeSpaceAR(n),o=e.convertToNodeSpaceAR(o);for(var r=0,c=function(c){var a=cc.instantiate(t);a.position=n,a.parent=e;var l=n.add(o).div(2).sub(n),u=5*Math.round(10*Math.random())*(Math.random()>.5?1:-1),d=l.rotate(u*Math.PI/180),h=n.add(d),f=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)),p=[h,h,o],g=cc.bezierTo(f/3e3+.5*Math.random(),p),y=cc.sequence(g,cc.callFunc(function(){s&&s(++r>=i),a.destroy()}));a.runAction(y)},a=0;a<i;a++)c()}}}}),cc._RF.pop()},{Alert:"Alert",Loading:"Loading",Tip:"Tip"}],UPLTVAndroid:[function(t,e,n){"use strict";cc._RF.push(e,"a8defv/RNBAp70l9SJpqyMU","UPLTVAndroid");var o="com/up/ads/cocosjs/JsProxy",i=!1,s=s||{setShowLog:function(t){void 0!=t&&null!=t&&(i=t)},printJsLog:function(t){i&&void 0!=t&&null!=t&&jsb.reflection.callStaticMethod("android/util/Log","i","(Ljava/lang/String;Ljava/lang/String;)I","cocos2dx-js",t)},initAndroidSDK:function(t,e,n){jsb.reflection.callStaticMethod(o,"initSDK","(Ljava/lang/String;Ljava/lang/String;)V",t,n),jsb.reflection.callStaticMethod(o,"setInvokeDelegate","(Ljava/lang/String;)V",e)},initAndroidAbtConfigJson:function(t,e,n,i,s,r,c){jsb.reflection.callStaticMethod(o,"initAbtConfigJsonForJs","(Ljava/lang/String;ZILjava/lang/String;Ljava/lang/String;ILjava/lang/String;)V",t,e,n,i,s,r,c)},getAndroidAbtConfig:function(t){return jsb.reflection.callStaticMethod(o,"getAbtConfig","(Ljava/lang/String;)Ljava/lang/String;",t)},showAndroidRewardDebugUI:function(){jsb.reflection.callStaticMethod(o,"showRewardDebugActivity","()V")},setAndroidRewardVideoLoadCallback:function(){jsb.reflection.callStaticMethod(o,"setRewardVideoLoadCallback","()V")},isAndroidRewardReady:function(){return jsb.reflection.callStaticMethod(o,"isRewardReady","()Z")},showAndroidRewardVideo:function(t){null==t&&(t="reward_video"),jsb.reflection.callStaticMethod(o,"showRewardVideo","(Ljava/lang/String;)V",t)},setAndroidInterstitialLoadCallback:function(t){jsb.reflection.callStaticMethod(o,"setInterstitialCallbackAt","(Ljava/lang/String;)V",t)},isAndroidInterstitialReadyAsyn:function(t,e){jsb.reflection.callStaticMethod(o,"isInterstitialReadyForJs","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},isAndroidInterstitialReady:function(t){return jsb.reflection.callStaticMethod(o,"isInterstitialReady","(Ljava/lang/String;)Z",t)},showAndroidInterstitialAd:function(t){jsb.reflection.callStaticMethod(o,"showInterstitialForJs","(Ljava/lang/String;)V",t)},showAndroidInterstitialDebugUI:function(){jsb.reflection.callStaticMethod(o,"showInterstitialDebugActivityForJs","()V")},removeAndroidBannerAdAt:function(t){jsb.reflection.callStaticMethod(o,"removeBanner","(Ljava/lang/String;)V",t)},showAndroidBannerAdAtTop:function(t){jsb.reflection.callStaticMethod(o,"showTopBanner","(Ljava/lang/String;)V",t)},showAndroidBannerAdAtBottom:function(t){jsb.reflection.callStaticMethod(o,"showBottomBanner","(Ljava/lang/String;)V",t)},hideAndroidBannerAdAtTop:function(){jsb.reflection.callStaticMethod(o,"hideTopBanner","()V")},hideAndroidBannerAdAtBottom:function(){jsb.reflection.callStaticMethod(o,"hideBottomBanner","()V")},showAndroidIconAdAt:function(t,e,n,i,s,r){jsb.reflection.callStaticMethod(o,"showIconAd","(IIIIILjava/lang/String;)V",t,e,n,i,s,r)},removeAndroidIconAdAt:function(t){jsb.reflection.callStaticMethod(o,"removeIconAd","(Ljava/lang/String;)V",t)},loadAndroidAdsByManual:function(){jsb.reflection.callStaticMethod(o,"loadAnroidAdsByManual","()V")},exitAndroidApp:function(){jsb.reflection.callStaticMethod(o,"exitAndroidApp","()V")},setAndroidManifestPackageName:function(t){jsb.reflection.callStaticMethod(o,"setManifestPackageName","(Ljava/lang/String;)V",t)},onAndroidBackPressed:function(){jsb.reflection.callStaticMethod(o,"onBackPressed","()V")},setAndroidCustomerId:function(t){jsb.reflection.callStaticMethod(o,"setCustomerIdForJs","(Ljava/lang/String;)V",t)},updateAndroidAccessPrivacyInfoStatus:function(t){jsb.reflection.callStaticMethod(o,"updateAccessPrivacyInfoStatus","(I)V",t)},getAndroidAccessPrivacyInfoStatus:function(){return jsb.reflection.callStaticMethod(o,"getAccessPrivacyInfoStatus","()I")},notifyAndroidAccessPrivacyInfoStatus:function(t,e){jsb.reflection.callStaticMethod(o,"notifyAccessPrivacyInfoStatus","(Ljava/lang/String;I)V",t,e)},isAndroidEuropeanUnionUser:function(t,e){jsb.reflection.callStaticMethod(o,"isEuropeanUnionUser","(Ljava/lang/String;I)V",t,e)},reportIvokePluginMethodReceive:function(t){jsb.reflection.callStaticMethod(o,"reportIvokePluginMethodReceive","(Ljava/lang/String;)V",t)},reportRDRewardClose:function(t){jsb.reflection.callStaticMethod(o,"reportRDRewardClose","(Ljava/lang/String;)V",t)},reportRDRewardClick:function(t){jsb.reflection.callStaticMethod(o,"reportRDRewardClick","(Ljava/lang/String;)V",t)},reportRDRewardGiven:function(t){jsb.reflection.callStaticMethod(o,"reportRDRewardGiven","(Ljava/lang/String;)V",t)},reportRDShowDid:function(t){jsb.reflection.callStaticMethod(o,"reportRDShowDid","(Ljava/lang/String;)V",t)},reportRDRewardCancel:function(t){jsb.reflection.callStaticMethod(o,"reportRDRewardCancel","(Ljava/lang/String;)V",t)},reportILClose:function(t,e){jsb.reflection.callStaticMethod(o,"reportILClose","(Ljava/lang/String;Ljava/lang/String;)V",void 0==e?"":e,t)},reportILClick:function(t,e){jsb.reflection.callStaticMethod(o,"reportILClick","(Ljava/lang/String;Ljava/lang/String;)V",void 0==e?"":e,t)},reportILShowDid:function(t,e){jsb.reflection.callStaticMethod(o,"reportILShowDid","(Ljava/lang/String;Ljava/lang/String;)V",void 0==e?"":e,t)},isOnlineDebugReportEnable:function(){return jsb.reflection.callStaticMethod(o,"isReportOnlineEnable","()Z")},isAndroidLogOpened:function(){return jsb.reflection.callStaticMethod(o,"isLogOpened","()Z")},setAndroidIsChild:function(t){jsb.reflection.callStaticMethod(o,"setIsChild","(Z)V",t)},setAndroidBirthday:function(t,e){jsb.reflection.callStaticMethod(o,"setBirthday","(II)V",t,e)},autoOneKeyInspectByAndroid:function(){jsb.reflection.callStaticMethod(o,"autoOneKeyInspect","()V")},tellToDoctorByAndroid:function(t,e,n){jsb.reflection.callStaticMethod(o,"tellToDoctor","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,n)},setAppsFlyerUIDByAndroid:function(t){jsb.reflection.callStaticMethod(o,"setAppsflyerUID","(Ljava/lang/String;)V",t)},setAdjustIdByAndroid:function(t){jsb.reflection.callStaticMethod(o,"setAdjustID","(Ljava/lang/String;)V",t)}};e.exports=s,cc._RF.pop()},{}],UPLTVIos:[function(t,e,n){"use strict";cc._RF.push(e,"56bf2BM76RD3pMS97NjxIwH","UPLTVIos");var o="UpAdsBrigeJs",i=!1,s=s||{setShowLog:function(t){void 0!=t&&null!=t&&(i=t)},printJsLog:function(t){i&&void 0!=t&&null!=t&&jsb.reflection.callStaticMethod(o,"printJsLog:",t)},initIosSDK:function(t,e,n,i){void 0!=i&&null!=i?jsb.reflection.callStaticMethod(o,"initSdkByJsWithAppKey:zone:withCallback:",t,e,i):jsb.reflection.callStaticMethod(o,"initSdkByJsWithAppKey:zone:",t,e),jsb.reflection.callStaticMethod(o,"setVokeMethod:",n)},initIosAbtConfigJson:function(t,e,n,i,s,r,c){jsb.reflection.callStaticMethod(o,"initAbtConfigJsonByJs:complete:paid:channel:gender:age:tags:",t,e,n,i,s,r,c)},getIosAbtConfig:function(t){return jsb.reflection.callStaticMethod(o,"getIosAbtConfigByJs:",t)},showIosRewardDebugUI:function(){jsb.reflection.callStaticMethod(o,"showRewardDebugActivityByJs")},setIosRewardVideoLoadCallback:function(){jsb.reflection.callStaticMethod(o,"setRewardVideoLoadCallbackByJs")},isIosRewardReady:function(){return jsb.reflection.callStaticMethod(o,"isIosRewardReadyByJs")},showIosRewardVideo:function(t){jsb.reflection.callStaticMethod(o,"showIosRewardVideoByJs:",t)},isIosInterstitialReadyAsyn:function(t,e){jsb.reflection.callStaticMethod(o,"isInterstitialReadyAsynByJs:callback:",t,e)},isIosInterstitialReady:function(t){return jsb.reflection.callStaticMethod(o,"isInterstitialReadyByJs:",t)},showIosInterstitialAd:function(t){jsb.reflection.callStaticMethod(o,"showInterstitialByJs:",t)},setIosInterstitialLoadCallback:function(t){jsb.reflection.callStaticMethod(o,"setInterstitialCallbackByJs:",t)},showIosInterstitialDebugUI:function(){jsb.reflection.callStaticMethod(o,"showInterstitialDebugActivityByJs")},removeIosBannerAdAt:function(t){jsb.reflection.callStaticMethod(o,"removeBannerByJs:",t)},showIosBannerAdAtTop:function(t){jsb.reflection.callStaticMethod(o,"showTopBannerByJs:",t)},showIosBannerAdAtBottom:function(t){jsb.reflection.callStaticMethod(o,"showBottomBannerByJs:",t)},hideIosBannerAdAtTop:function(){jsb.reflection.callStaticMethod(o,"hideTopBannerByJs")},hideIosBannerAdAtBottom:function(){jsb.reflection.callStaticMethod(o,"hideBottomBannerByJs")},setIosTopBannerPading:function(t){var e="0";"number"==typeof t?e=String(t):"string"==typeof t&&(e=t),jsb.reflection.callStaticMethod(o,"setTopBannerPadingForIphonexByJs:",e)},showIosIconAdAt:function(t,e,n,i,s,r){jsb.reflection.callStaticMethod(o,"showIconX:y:width:height:rotationAngle:placementId:",t,e,n,i,s,r)},removeIosIconAdAt:function(t){jsb.reflection.callStaticMethod(o,"removeIcon:",t)},loadIosAdsByManual:function(){jsb.reflection.callStaticMethod(o,"loadIosAdsByManualByJs")},exitIosApp:function(){jsb.reflection.callStaticMethod(o,"exitIosAppByJs")},updateIosAccessPrivacyInfoStatus:function(t){jsb.reflection.callStaticMethod(o,"updateAccessPrivacyInfoStatusByJs:",t)},getIosAccessPrivacyInfoStatus:function(){return jsb.reflection.callStaticMethod(o,"getAccessPrivacyInfoStatusByJs")},notifyIosAccessPrivacyInfoStatus:function(t,e){jsb.reflection.callStaticMethod(o,"notifyAccessPrivacyInfoStatusByJs:callId:",t,e)},isIosEuropeanUnionUser:function(t,e){jsb.reflection.callStaticMethod(o,"isEuropeanUnionUserByJs:callId:",t,e)},reportIvokePluginMethodReceive:function(t){jsb.reflection.callStaticMethod(o,"reportIvokePluginMethodReceiveByJs:",t)},reportRDRewardClose:function(t){jsb.reflection.callStaticMethod(o,"reportRDRewardCloseByJs:",t)},reportRDRewardClick:function(t){jsb.reflection.callStaticMethod(o,"reportRDRewardClickByJs:",t)},reportRDRewardGiven:function(t){jsb.reflection.callStaticMethod(o,"reportRDRewardGivenByJs:",t)},reportRDShowDid:function(t){jsb.reflection.callStaticMethod(o,"reportRDShowDidByJs:",t)},reportRDRewardCancel:function(t){jsb.reflection.callStaticMethod(o,"reportRDRewardCancelByJs:",t)},reportILClose:function(t,e){jsb.reflection.callStaticMethod(o,"reportILCloseByJs:msg:",void 0==e?"":e,t)},reportILClick:function(t,e){jsb.reflection.callStaticMethod(o,"reportILClickByJs:msg:",void 0==e?"":e,t)},reportILShowDid:function(t,e){jsb.reflection.callStaticMethod(o,"reportILShowDidByJs:msg:",void 0==e?"":e,t)},isOnlineDebugReportEnable:function(){return jsb.reflection.callStaticMethod(o,"isReportOnlineEnableByJs")},isIosLogOpened:function(){return jsb.reflection.callStaticMethod(o,"isIosLogOpenedByJs")},autoOneKeyInspectByIos:function(){jsb.reflection.callStaticMethod(o,"autoOneKeyInspectByJs")},tellToDoctorByIos:function(t,e,n){jsb.reflection.callStaticMethod(o,"tellToDoctorByJs:adid:msg:",t,e,n)},setAppsFlyerUIDByIos:function(t){jsb.reflection.callStaticMethod(o,"setAppsFlyerUIDByJs:",t)},setAdjustIdByIos:function(t){jsb.reflection.callStaticMethod(o,"setAdjustIdByJs:",t)}};e.exports=s,cc._RF.pop()},{}],UPLTV:[function(t,e,n){"use strict";cc._RF.push(e,"1262dOfvABFVJ1EwXaOwcQh","UPLTV");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("UPLTVIos"),s=t("UPLTVAndroid"),r=!1,c=function(t){void 0!=t&&null!=t&&void 0!=p&&null!=p.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?p.upltvbridge.printJsLog(t):cc.sys.os===cc.sys.OS_IOS&&p.upltvbridge.printJsLog(t))},a=function(t,e,n){void 0!=p&&(void 0!=n?p.onlineDebugReport(t,e,n):p.onlineDebugReport(t,e))},l=function(t,e,n){void 0!=p&&void 0!=p.upltvbridge&&null!=p.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?p.upltvbridge.tellToDoctorByAndroid(t,e,n):cc.sys.os===cc.sys.OS_IOS&&p.upltvbridge.tellToDoctorByIos(t,null==e?"":e,null==n?"":n))},u={handleVokeParams:function(t){if(void 0!=t&&null!=t&&"string"==typeof t){var e=t.indexOf(":"),n=null;if(!(e<=0)){var o=(n=t.substr(e+1)).indexOf(","),i=n.substring(0,o),s=null,h=null;(e=(n=n.substr(o+1)).indexOf(":"))>0&&(o=(n=n.substr(e+1)).indexOf(","))>0&&(s=n.substring(0,o),null!=(n=n.substr(o+1))&&(e=n.indexOf(":"))>0&&(h=n.substr(e+1))),c("===> js handleVokeParams callname: "+i),c("===> js handleVokeParams   cpadid: "+s),c("===> js handleVokeParams  message: "+h);var f=void 0!=p&&p.isOnlineDebugReportEnable();if(f&&a(u.Function_Receive_Callback,"CocosJs Receive message, callname:"+i+", cpadid:"+s),u.Action_Doctor_ON_DUTY==i)f&&(r=!0);else if(u.Action_Doctor_OFF_DUTY==i)f&&(r=!1);else if(u.Function_Doctor_IL_Load_Request==i)f&&1==r&&p.setInterstitialLoadCallback(u.Function_Doctor_IL_Show_AdId,function(t,e){l(u.Action_Doctor_Ad_IL_LoadOk_Reply,u.Function_Doctor_IL_Show_AdId,"cocoscreator js il load ok")},function(t,e){l(u.Action_Doctor_Ad_IL_LoadFail_Reply,u.Function_Doctor_IL_Show_AdId,e)});else if(u.Function_Doctor_RD_Load_Request==i)f&&1==r&&p.setRewardVideoLoadCallback(function(t,e){l(u.Action_Doctor_Ad_RD_LoadOk_Reply,u.Function_Doctor_RD_Show_AdId,"cocoscreator js rd load ok")},function(t,e){l(u.Action_Doctor_Ad_RD_LoadFail_Reply,u.Function_Doctor_RD_Show_AdId,e)});else if(u.Function_Doctor_RD_Show_Request==i)p.showRewardVideo(u.Function_Doctor_RD_Show_AdId);else if(u.Function_Doctor_IL_Show_Request==i)p.showInterstitialAd(u.Function_Doctor_IL_Show_AdId);else if(u.Function_Reward_DidLoadFail==i)null!=d.rewardLoadFailCall&&"function"==typeof d.rewardLoadFailCall?(d.rewardLoadFailCall(s,h),d.resetRewardLoadCallback()):c("===> js rewardLoadFailCall is null or not function");else if(u.Function_Reward_DidLoadSuccess==i)null!=d.rewardLoadSuccessCall&&"function"==typeof d.rewardLoadSuccessCall?(d.rewardLoadSuccessCall(s,h),d.resetRewardLoadCallback()):c("===> rewardLoadSuccessCall is null or not function");else if(u.Function_Reward_WillOpen==i){if(f&&1==r)return a(i,"CocosJs did run callback on video willopen event."),void l(u.Action_Doctor_Ad_RD_WillShow_Reply,u.Function_Doctor_RD_Show_AdId,"tell the rd willshow event to doctor.");null!=(_=d.rewardShowCall)&&"function"==typeof _?(_(p.AdEventType.VIDEO_EVENT_WILL_SHOW,s),f&&a(i,"CocosJs did run callback on video willopen event.")):f&&a(i,"CocosJs not run callback on video willopen event.")}else if(u.Function_Reward_DidOpen==i){if(f&&1==r)return a(i,"CocosJs did run callback on video shown event."),void l(u.Action_Doctor_Ad_RD_DidShow_Reply,u.Function_Doctor_RD_Show_AdId,"tell the rd didopen event to doctor.");null!=(_=d.rewardShowCall)&&"function"==typeof _?(_(p.AdEventType.VIDEO_EVENT_DID_SHOW,s),f&&a(i,"CocosJs did run callback on video shown event.")):f&&a(i,"CocosJs not run callback on video shown event.")}else if(u.Function_Reward_DidClick==i){if(f&&1==r)return a(i,"CocosJs did run callback on video clicked event."),void l(u.Action_Doctor_Ad_RD_DidClick_Reply,u.Function_Doctor_RD_Show_AdId,"tell the rd didclick event to doctor.");null!=(_=d.rewardShowCall)&&"function"==typeof _?(_(p.AdEventType.VIDEO_EVENT_DID_CLICK,s),f&&a(i,"CocosJs did run callback on video clicked event.")):f&&a(i,"CocosJs not run callback on video clicked event.")}else if(u.Function_Reward_DidClose==i){if(f&&1==r)return a(i,"CocosJs did run callback on video closed event."),void l(u.Action_Doctor_Ad_RD_DidClose_Reply,u.Function_Doctor_RD_Show_AdId,"tell the rd didclose event to doctor.");null!=(_=d.rewardShowCall)&&"function"==typeof _?(_(p.AdEventType.VIDEO_EVENT_DID_CLOSE,s),f&&a(i,"CocosJs did run callback on video closed event.")):f&&a(i,"CocosJs not run callback on video closed event.")}else if(u.Function_Reward_DidGivien==i){if(f&&1==r)return a(i,"CocosJs did run callback on video reward given event."),void l(u.Action_Doctor_Ad_RD_Given_Reply,u.Function_Doctor_RD_Show_AdId,"tell the rd givenreward event to doctor.");null!=(_=d.rewardShowCall)&&"function"==typeof _?(_(p.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD,s),f&&a(i,"CocosJs did run callback on video reward given event.")):f&&a(i,"CocosJs not run callback on video reward given event.")}else if(u.Function_Reward_DidAbandon==i){if(f&&1==r)return a(i,"CocosJs did run callback on video reward cancel event."),void l(u.Action_Doctor_Ad_RD_Cancel_Reply,u.Function_Doctor_RD_Show_AdId,"tell the noreward event to doctor.");null!=(_=d.rewardShowCall)&&"function"==typeof _?(_(p.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD,s),f&&a(i,"CocosJs did run callback on video reward cancel event.")):f&&a(i,"CocosJs not run callback on video reward cancel event.")}else if(u.Function_Interstitial_DidLoadFail==i){var g=s+"_Interstitial";if(null!=(v=d.get(g)))null!=(_=v.interstitialLoadFailCall)&&"function"==typeof _&&_(s,h),d.remove(g),c("===> Interstitial_DidLoadFail at key:"+g)}else if(u.Function_Interstitial_DidLoadSuccess==i){g=s+"_Interstitial";if(null!=(v=d.get(g)))null!=(_=v.interstitialLoadSuccessCall)&&"function"==typeof _?_(s,h):c("===> interstitial_didloadsuccess call is null or non-function type at key:"+g),d.remove(g);else c("===> interstitial_didloadsuccess v is null at key:"+g)}else if(u.Function_Interstitial_Willshow==i){if(f&&1==r)return a(i,"CocosJs did run callback on il ad willshown event.",u.Function_Doctor_IL_Show_AdId),void l(u.Action_Doctor_Ad_IL_WillShow_Reply,u.Function_Doctor_IL_Show_AdId,"tell the il willshow event to doctor.");var y=!1;if(null!=(v=d.get(s)))null!=(_=v.interstitialShowCall)&&"function"==typeof _&&(_(p.AdEventType.INTERSTITIAL_EVENT_WILL_SHOW,s),f&&(y=!0,a(i,"CocosJs did run callback on il ad willshown event at "+s,s)));f&&0==y&&a(i,"CocosJs not run callback on il ad willshown event at "+s,s)}else if(u.Function_Interstitial_Didshow==i){if(f&&1==r)return a(i,"CocosJs did run callback on il ad shown event.",u.Function_Doctor_IL_Show_AdId),void l(u.Action_Doctor_Ad_IL_DidShow_Reply,u.Function_Doctor_IL_Show_AdId,"tell the il didshow event to doctor.");y=!1;if(null!=(v=d.get(s)))null!=(_=v.interstitialShowCall)&&"function"==typeof _&&(_(p.AdEventType.INTERSTITIAL_EVENT_DID_SHOW,s),f&&(y=!0,a(i,"CocosJs did run callback on il ad shown event at "+s,s)));f&&0==y&&a(i,"CocosJs not run callback on il ad shown event at "+s,s)}else if(u.Function_Interstitial_Didclose==i){if(f&&1==r)return a(i,"CocosJs did run callback on il ad closed event.",u.Function_Doctor_IL_Show_AdId),void l(u.Action_Doctor_Ad_IL_DidClose_Reply,u.Function_Doctor_IL_Show_AdId,"tell the il didclose event to doctor.");y=!1;if(null!=(v=d.get(s)))null!=(_=v.interstitialShowCall)&&"function"==typeof _&&(_(p.AdEventType.INTERSTITIAL_EVENT_DID_CLOSE,s),f&&(y=!0,a(i,"CocosJs did run callback on il ad closed event at "+s,s)));f&&0==y&&a(i,"CocosJs not run callback on il ad closed event at "+s,s)}else if(u.Function_Interstitial_Didclick==i){if(f&&1==r)return a(i,"CocosJs did run callback on il ad clicked event.",u.Function_Doctor_IL_Show_AdId),void l(u.Action_Doctor_Ad_IL_DidClick_Reply,u.Function_Doctor_IL_Show_AdId,"tell the il didclick event to doctor.");y=!1;if(null!=(v=d.get(s)))null!=(_=v.interstitialShowCall)&&"function"==typeof _&&(_(p.AdEventType.INTERSTITIAL_EVENT_DID_CLICK,s),f&&(y=!0,a(i,"CocosJs did run callback on il ad clicked event at "+s,s)));f&&0==y&&a(i,"CocosJs not run callback on il ad clicked event at "+s,s)}else if(u.Function_Banner_DidRemove==i){if(null!=(v=d.get(s)))null!=(_=v.bannerEventCall)&&"function"==typeof _&&_(p.AdEventType.BANNER_EVENT_DID_REMOVED,s);d.remove(s)}else if(u.Function_Banner_DidClick==i){if(null!=(v=d.get(s)))null!=(_=v.bannerEventCall)&&"function"==typeof _&&_(p.AdEventType.BANNER_EVENT_DID_CLICK,s)}else if(u.Function_Banner_DidShow==i){if(null!=(v=d.get(s)))null!=(_=v.bannerEventCall)&&"function"==typeof _&&_(p.AdEventType.BANNER_EVENT_DID_SHOW,s)}else if(u.Function_Icon_DidLoad==i){if(null!=(v=d.get(s)))null!=(_=v.iconEventCall)&&"function"==typeof _&&_(p.AdEventType.ICON_EVENT_DID_LOAD,s)}else if(u.Function_Icon_DidLoadFail==i){if(null!=(v=d.get(s)))null!=(_=v.iconEventCall)&&"function"==typeof _&&_(p.AdEventType.ICON_EVENT_DID_LOADFAIL,s)}else if(u.Function_Icon_DidShow==i){if(null!=(v=d.get(s)))null!=(_=v.iconEventCall)&&"function"==typeof _&&_(p.AdEventType.ICON_EVENT_DID_SHOW,s)}else if(u.Function_Icon_DidClick==i){var v,_;if(null!=(v=d.get(s)))null!=(_=v.iconEventCall)&&"function"==typeof _&&_(p.AdEventType.ICON_EVENT_DID_CLICK,s)}}}},Function_Receive_Callback:"receive_callback",Function_Reward_WillOpen:"reward_willopen",Function_Reward_DidOpen:"reward_didopen",Function_Reward_DidClick:"reward_didclick",Function_Reward_DidClose:"reward_didclose",Function_Reward_DidGivien:"reward_didgiven",Function_Reward_DidAbandon:"reward_didabandon",Function_Interstitial_Willshow:"interstitial_willshow",Function_Interstitial_Didshow:"interstitial_didshow",Function_Interstitial_Didclose:"interstitial_didclose",Function_Interstitial_Didclick:"interstitial_didclick",Function_Banner_DidShow:"banner_didshow",Function_Banner_DidClick:"banner_didclick",Function_Banner_DidRemove:"banner_didremove",Function_Reward_DidLoadFail:"reward_didloadfail",Function_Reward_DidLoadSuccess:"reward_didloadsuccess",Function_Interstitial_DidLoadFail:"interstitial_didloadfail",Function_Interstitial_DidLoadSuccess:"interstitial_didloadsuccess",Function_Icon_DidLoad:"icon_didload",Function_Icon_DidLoadFail:"icon_didloadfail",Function_Icon_DidShow:"icon_didshow",Function_Icon_DidClick:"icon_didclick",Action_Doctor_ON_DUTY:"auto_ad_checking_doctor_on_duty",Action_Doctor_OFF_DUTY:"auto_ad_checking_doctor_off_duty",Action_Doctor_Ad_IL_LoadOk_Reply:"auto_ad_il_load_ok_reply",Action_Doctor_Ad_IL_LoadFail_Reply:"auto_ad_il_load_fail_reply",Action_Doctor_Ad_IL_WillShow_Reply:"auto_ad_il_willshow_reply",Action_Doctor_Ad_IL_DidShow_Reply:"auto_ad_il_didshow_reply",Action_Doctor_Ad_IL_DidClick_Reply:"auto_ad_il_didclick_reply",Action_Doctor_Ad_IL_DidClose_Reply:"auto_ad_il_didclose_reply",Action_Doctor_Ad_RD_LoadOk_Reply:"auto_ad_rd_load_ok_reply",Action_Doctor_Ad_RD_LoadFail_Reply:"auto_ad_rd_load_fail_reply",Action_Doctor_Ad_RD_WillShow_Reply:"auto_ad_rd_willshow_reply",Action_Doctor_Ad_RD_DidShow_Reply:"auto_ad_rd_didshow_reply",Action_Doctor_Ad_RD_DidClick_Reply:"auto_ad_rd_didclick_reply",Action_Doctor_Ad_RD_DidClose_Reply:"auto_ad_rd_didclose_reply",Action_Doctor_Ad_RD_Given_Reply:"auto_ad_rd_reward_given_reply",Action_Doctor_Ad_RD_Cancel_Reply:"auto_ad_rd_reward_cancel_reply",Function_Doctor_IL_Show_AdId:"auto_sample_ad_il_show_placeid",Function_Doctor_RD_Show_AdId:"auto_sample_ad_rd_show_placeid",Function_Doctor_IL_Show_Request:"invoke_plugin_ad_il_show_request",Function_Doctor_RD_Show_Request:"invoke_plugin_ad_rd_show_request",Function_Doctor_IL_Load_Request:"invoke_plugin_ad_il_load_request",Function_Doctor_RD_Load_Request:"invoke_plugin_ad_rd_load_request"},d={map:new Object,length:0,rewardLoadFailCall:null,rewardLoadSuccessCall:null,rewardShowCall:null,backPressedCall:null,resetRewardLoadCallback:function(){this.rewardLoadFailCall=null,this.rewardLoadSuccessCall=null},size:function(){return this.length},put:function(t,e){this.map["_"+t]||++this.length,this.map["_"+t]=e},remove:function(t){return!!this.map["_"+t]&&(--this.length,delete this.map["_"+t])},exist:function(t){return!!this.map["_"+t]},get:function(t){return this.map["_"+t]?this.map["_"+t]:null},print:function(){var t="";for(var e in this.map)t+="/n"+e+"  Value:"+this.map[e];return c("===> js map : "+t),t},test:function(){this.put("1",function(){}),this.put("2",function(t){cc.log("===> js map function call at 2, v type: %s",void 0===t?"undefined":o(t))}),this.put("4",function(){}),c("===> js map exist 1: "+this.exist("1")),c("===> js map exist 2: "+this.exist("3"));var t=this.get("2");t&&t("========================"),this.print(),this.remove("1"),this.remove("3"),c("===> js map size: "+this.size())}},h=function(){cc.sys.os===cc.sys.OS_IOS&&null!=p?void 0!=p.upltvbridge&&null!=p.upltvbridge||(p.upltvbridge=i):cc.sys.os===cc.sys.OS_ANDROID&&null!=p&&(void 0!=p.upltvbridge&&null!=p.upltvbridge||(p.upltvbridge=s))},f={initSdkSuccessed:!1,initVokeCall:null,initSdkCallback:function(t){"true"!=t&&1!=t||(this.initSdkSuccessed=!0),cc.log("===> js initSdkCallback..., %s",t),void 0!=this.initVokeCall&&null!=this.initVokeCall&&"function"==typeof this.initVokeCall&&this.initVokeCall(this.initSdkSuccessed),void 0!=this.initVokeCall&&(this.initVokeCall=null)},vokeMethod:function(t){u.handleVokeParams(t)},vokeILReadyMethod:function(t,e){this.handleILReadyMethod(t,e)},handleILReadyMethod:function(t,e){var n="ILReady_"+t,o=d.get(n);if(null!=o&&(d.remove(n),"function"==typeof o)){var i=!1;"true"!=e&&1!=e||(i=!0),o(i)}}},p=p||{upltvbridge:null,initSdk:function(t,e,n,o){if(1!=cc.bridgeInterface.initSdkSuccessed){void 0!=o&&null!=o&&"function"==typeof o&&(c("===> js set initVokeCall..."),cc.bridgeInterface.initVokeCall=o);var i="cc.bridgeInterface.vokeMethod",s="cc.bridgeInterface.initSdkCallback";if(h(),cc.sys.os===cc.sys.OS_IOS){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==e||""==e)return void cc.log("===> js initSdk failed, iosAppKey is undefined or empty.");if("string"!=typeof e)return void cc.log("===> js initSdk failed, iosAppKey is not string type.");(void 0==n||0!=n&&1!=n&&2!=n)&&(cc.log("===> js initSdk WARNING: iosZone iswrong value, will be setted to 0"),n=0),this.upltvbridge.setShowLog(!0),this.upltvbridge.initIosSDK(e,n,i,s)}}else if(cc.sys.os===cc.sys.OS_ANDROID){if(void 0==t&&""==t)return void c("please set correct androidAppKey for initializing upsdk");void 0!=this.upltvbridge&&null!=this.upltvbridge&&(this.upltvbridge.setShowLog(!0),this.upltvbridge.initAndroidSDK(t,i,s))}}else c("===> js initSdk don't called again ")},initAbtConfigJson:function(t,e,n,o,i,s,r){var c=null;if(void 0!=r&&null!=r&&r instanceof Array){var a=r.length;c='{"array":[';for(var l=0;l<a;l++)c+='"'+r[l],c+=l<a-1?'",':'"]}'}void 0==e&&(e=!1),void 0==n&&(n=0),void 0==o&&(o=""),void 0==i&&(i=""),void 0==s&&(s=-1),cc.sys.os===cc.sys.OS_IOS?void 0!=this.upltvbridge&&null!=this.upltvbridge&&this.upltvbridge.initIosAbtConfigJson(t,e,n,o,i,s,c):cc.sys.os===cc.sys.OS_ANDROID&&void 0!=this.upltvbridge&&null!=this.upltvbridge&&this.upltvbridge.initAndroidAbtConfigJson(t,e,n,o,i,s,c)},getAbtConfig:function(t){if(void 0!=t&&null!=t&&"string"==typeof t)if(cc.sys.os===cc.sys.OS_IOS){if(void 0!=this.upltvbridge&&null!=this.upltvbridge)return""==(e=this.upltvbridge.getIosAbtConfig(t))?null:e}else if(cc.sys.os===cc.sys.OS_ANDROID){var e;if(void 0!=this.upltvbridge&&null!=this.upltvbridge)return""==(e=this.upltvbridge.getAndroidAbtConfig(t))?null:e}return null},showRewardDebugUI:function(){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosRewardDebugUI():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidRewardDebugUI())},setRewardVideoLoadCallback:function(t,e){void 0!=t&&null!=t&&"function"==typeof t?void 0!=e&&null!=e&&"function"==typeof e?(d.rewardLoadFailCall=void 0==e?null:e,d.rewardLoadSuccessCall=void 0==t?null:t,void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.setIosRewardVideoLoadCallback():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.setAndroidRewardVideoLoadCallback())):c("===> setRewardVideoLoadCallback(), the locadfail can't be undefined or null or non-function type."):c("===> setRewardVideoLoadCallback(), the loadsuccess can't be undefined or null or non-function type.")},setRewardVideoShowCallback:function(t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t||"function"!=typeof t)return void c("===> setRewardVideoShowCallback(), the showCall can't be undefined or null or non-function type.");d.rewardShowCall=t}},isRewardReady:function(){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(cc.sys.os===cc.sys.OS_IOS)return this.upltvbridge.isIosRewardReady();if(cc.sys.os===cc.sys.OS_ANDROID)return this.upltvbridge.isAndroidRewardReady()}return!1},showRewardVideo:function(t){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(void 0==t&&(t=null),cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosRewardVideo(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidRewardVideo(t))},isInterstitialReadyAsyn:function(t,e){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("Please set the Paramer cpPlaceId's value in function isInterstitialReadyAsyn()");if(e==t||null==e)return void c("Please set the Paramer callback's value in function isInterstitialReadyAsyn()");if("function"!=typeof e)return void c("The Paramer 'callback' is  non-function type in function isInterstitialReadyAsyn()");var n="ILReady_"+t;d.put(n,e),cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.isIosInterstitialReadyAsyn(t,"cc.bridgeInterface.vokeILReadyMethod"):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.isAndroidInterstitialReadyAsyn(t,"cc.bridgeInterface.vokeILReadyMethod")}},isInterstitialReady:function(t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> isInterstitialReady(), the cpPlaceId can't be undefined or null.");if(cc.sys.os===cc.sys.OS_IOS)return this.upltvbridge.isIosInterstitialReady(t);if(cc.sys.os===cc.sys.OS_ANDROID)return this.upltvbridge.isAndroidInterstitialReady(t)}return!1},showInterstitialAd:function(t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("Please set the Paramer cpPlaceId's value in function showInterstitialAd()");cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosInterstitialAd(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidInterstitialAd(t)}},setInterstitialLoadCallback:function(t,e,n){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> setIntersitialLoadCall(), the cpPlaceId can't be undefined or null.");if(void 0==e||null==e||"function"!=typeof e)return void c("===> setIntersitialLoadCall(), the loadsuccess can't be undefined or null or null or non-function type.");if(void 0==n||null==n||"function"!=typeof n)return void c("===> setIntersitialLoadCall(), the locadfail can't be undefined or null or null or non-function type.");var o=t+"_Interstitial",i=d.get(o)||{};i.interstitialLoadSuccessCall=e,i.interstitialLoadFailCall=n,d.put(o,i),c("===> setIntersitialLoadCall() ltvMap size: "+d.size()),cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.setIosInterstitialLoadCallback(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.setAndroidInterstitialLoadCallback(t)}},setInterstitialShowCallback:function(t,e){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> setInterstitialShowCallback(), the cpPlaceId can't be undefined or null.");if(void 0==e||null==e||"function"!=typeof e)return void c("===> setInterstitialShowCallback(), the showCall can't be undefined or null or non-function type.");var n=t,o=d.get(n)||{};o.interstitialShowCall=e,d.put(n,o)}},showInterstitialDebugUI:function(){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosInterstitialDebugUI():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidInterstitialDebugUI())},removeBannerAdAt:function(t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> removeBannerAdAt(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.removeIosBannerAdAt(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.removeAndroidBannerAdAt(t)}},showBannerAdAtTop:function(t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> showBannerAdAtTop(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosBannerAdAtTop(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidBannerAdAtTop(t)}},showBannerAdAtBottom:function(t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> showBannerAdAtBottom(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.showIosBannerAdAtBottom(t):cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidBannerAdAtBottom(t)}},hideBannerAdAtTop:function(){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.hideIosBannerAdAtTop():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.hideAndroidBannerAdAtTop())},hideBannerAdAtBottom:function(){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.hideIosBannerAdAtBottom():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.hideAndroidBannerAdAtBottom())},setTopBannerPadingForIphoneX:function(t){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.setIosTopBannerPading(t):(cc.sys.os,cc.sys.OS_ANDROID))},setBannerShowCallback:function(t,e){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> setBannerShowCallback(), the cpPlaceId can't be undefined or null.");if(void 0==e||null==e||"function"!=typeof e)return void c("===> setBannerShowCallback(), the bannerCall can't be undefined or null or non-function type.");var n=d.get(t)||{};n.bannerEventCall=e,d.put(t,n)}},setIconCallback:function(t,e){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> setIconCallback(), the cpPlaceId can't be undefined or null.");if(void 0==e||null==e||"function"!=typeof e)return void c("===> setIconCallback(), the iconCall can't be undefined or null or non-function type.");var n=d.get(t)||{};n.iconEventCall=e,d.put(t,n)}},showIconAd:function(t,e,n,o,i,s){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==s||null==s)return void c("===> showIconAd(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.showAndroidIconAdAt(t,e,n,o,i,s),cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.showIosIconAdAt(t,e,n,o,i,s)}},removeIconAd:function(t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(void 0==t||null==t)return void c("===> removeIconAd(), the cpPlaceId can't be undefined or null.");cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.removeAndroidIconAdAt(t),cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.removeIosIconAdAt(t)}},loadAdsByManual:function(){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.loadIosAdsByManual():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.loadAndroidAdsByManual())},exitApp:function(){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_IOS?this.upltvbridge.exitIosApp():cc.sys.os===cc.sys.OS_ANDROID&&this.upltvbridge.exitAndroidApp())},setManifestPackageName:function(t){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.setAndroidManifestPackageName(t):(cc.sys.os,cc.sys.OS_ANDROID))},onBackPressed:function(){void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.onAndroidBackPressed():(cc.sys.os,cc.sys.OS_IOS))},setCustomerId:function(t){if(h(),void 0!=this.upltvbridge&&null!=this.upltvbridge)if(cc.sys.os===cc.sys.OS_ANDROID){if(void 0==t||null==t)return void c("===> setCustomerId(), the anroidid can't be null");this.upltvbridge.setAndroidCustomerId(t)}else cc.sys.os,cc.sys.OS_IOS},updateAccessPrivacyInfoStatus:function(t){h(),void 0!=t&&null!=t?t==p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown||t==p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted||t==p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined?void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.updateAndroidAccessPrivacyInfoStatus(t):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.updateIosAccessPrivacyInfoStatus(t)):c("===> updateAccessPrivacyInfoStatus(), the gdprPermissionEnumValue is a wrong type."):c("===> updateAccessPrivacyInfoStatus(), the gdprPermissionEnumValue can't be null")},getAccessPrivacyInfoStatus:function(){h();var t=0;return void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?t=this.upltvbridge.getAndroidAccessPrivacyInfoStatus():cc.sys.os===cc.sys.OS_IOS&&(t=this.upltvbridge.getIosAccessPrivacyInfoStatus())),1==t?p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted:2==t?p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined:p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown},notifyAccessPrivacyInfoStatus:function(t){if(h(),void 0!=t&&null!=t)if("function"==typeof t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){p.GDPRPermissionEnum.functionId=p.GDPRPermissionEnum.functionId+1;var e=p.GDPRPermissionEnum.functionId,n=""+e;d.put(n,t);var o="upltv.GDPRPermissionEnum.javaCall";cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.notifyAndroidAccessPrivacyInfoStatus(o,e):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.notifyIosAccessPrivacyInfoStatus(o,n)}}else c("===> notifyAccessPrivacyInfoStatus(), the callback must be function.");else c("===> notifyAccessPrivacyInfoStatus(), the callback can't be null.")},isEuropeanUnionUser:function(t){if(h(),void 0!=t&&null!=t)if("function"==typeof t){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){p.GDPRPermissionEnum.functionId=p.GDPRPermissionEnum.functionId+1;var e=p.GDPRPermissionEnum.functionId,n=""+e;d.put(n,t);var o="upltv.GDPRPermissionEnum.javaCall";cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.isAndroidEuropeanUnionUser(o,e):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.isIosEuropeanUnionUser(o,n)}}else c("===> isEuropeanUnionUser(), the callback must be function.");else c("===> isEuropeanUnionUser(), the callback can't be null.")},isOnlineDebugReportEnable:function(){return(cc.sys.os===cc.sys.OS_ANDROID||cc.sys.os===cc.sys.OS_IOS)&&this.upltvbridge.isOnlineDebugReportEnable()},onlineDebugReport:function(t,e,n){cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os!==cc.sys.OS_IOS||(u.Function_Receive_Callback==t?this.upltvbridge.reportIvokePluginMethodReceive(e):u.Function_Reward_WillOpen==t||(u.Function_Reward_DidOpen==t?this.upltvbridge.reportRDShowDid(e):u.Function_Reward_DidClick==t?this.upltvbridge.reportRDRewardClick(e):u.Function_Reward_DidClose==t?this.upltvbridge.reportRDRewardClose(e):u.Function_Reward_DidGivien==t?this.upltvbridge.reportRDRewardGiven(e):u.Function_Reward_DidAbandon==t?this.upltvbridge.reportRDRewardCancel(e):u.Function_Interstitial_Willshow==t||(u.Function_Interstitial_Didshow==t?this.upltvbridge.reportILShowDid(e,n):u.Function_Interstitial_Didclick==t?this.upltvbridge.reportILClick(e,n):u.Function_Interstitial_Didclose==t&&this.upltvbridge.reportILClose(e,n))))},isLogOpened:function(){if(void 0!=this.upltvbridge&&null!=this.upltvbridge){if(cc.sys.os===cc.sys.OS_IOS)return this.upltvbridge.isIosLogOpened();if(cc.sys.os===cc.sys.OS_ANDROID)return this.upltvbridge.isAndroidLogOpened()}return!1},autoOneKeyInspect:function(){c("===> called autoOneKeyInspect"),void 0!=this.upltvbridge&&null!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.autoOneKeyInspectByAndroid():cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.autoOneKeyInspectByIos())},setAppsFlyerUID:function(t){h(),0!=arguments.length&&void 0!=t?"string"==typeof t?""!=t?void 0!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.setAppsFlyerUIDByAndroid(t):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.setAppsFlyerUIDByIos(t)):c("===> setAppsFlyerUID(), the uid can't be empty"):c("===> setAppsFlyerUID(), the uid must be string type"):c("===> setAppsFlyerUID(), the uid can't be nil.")},setAdjustId:function(t){h(),0!=arguments.length&&void 0!=t?"string"==typeof t?""!=t?void 0!=this.upltvbridge&&(cc.sys.os===cc.sys.OS_ANDROID?this.upltvbridge.setAdjustIdByAndroid(t):cc.sys.os===cc.sys.OS_IOS&&this.upltvbridge.setAdjustIdByIos(t)):c("===> setAdjustId(), the ajid can't be empty"):c("===> setAdjustId(), the ajid must be string type"):c("===> setAdjustId(), the ajid can't be nil.")}};p.GDPRPermissionEnum={functionId:0,javaCall:function(t,e){var n=""+t,o=d.get(n);null!=o&&(null!=o&&"function"==typeof o&&o(e),d.remove(n))}},p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusUnkown=0,p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusAccepted=1,p.GDPRPermissionEnum.UPAccessPrivacyInfoStatusDefined=2,p.AdEventType={},p.AdEventType.VIDEO_EVENT_DID_SHOW=0,p.AdEventType.VIDEO_EVENT_DID_CLICK=1,p.AdEventType.VIDEO_EVENT_DID_CLOSE=2,p.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD=3,p.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD=4,p.AdEventType.INTERSTITIAL_EVENT_DID_SHOW=5,p.AdEventType.INTERSTITIAL_EVENT_DID_CLICK=6,p.AdEventType.INTERSTITIAL_EVENT_DID_CLOSE=7,p.AdEventType.BANNER_EVENT_DID_SHOW=8,p.AdEventType.BANNER_EVENT_DID_CLICK=9,p.AdEventType.BANNER_EVENT_DID_REMOVED=10,p.AdEventType.ICON_EVENT_DID_LOAD=16,p.AdEventType.ICON_EVENT_DID_LOADFAIL=17,p.AdEventType.ICON_EVENT_DID_SHOW=18,p.AdEventType.ICON_EVENT_DID_CLICK=19,p.AdEventType.VIDEO_EVENT_WILL_SHOW=20,p.AdEventType.INTERSTITIAL_EVENT_WILL_SHOW=21,e.exports.upltv=p,e.exports.bridgeInterface=f,cc._RF.pop()},{UPLTVAndroid:"UPLTVAndroid",UPLTVIos:"UPLTVIos"}],UpdatePanel:[function(t,e,n){"use strict";cc._RF.push(e,"a0b25x2RTFJZob6meKh/2YN","UpdatePanel"),cc.Class({extends:cc.Component,properties:{progressBar:t("./../framework/ui/ProgressBar"),fileProgress:t("./../framework/ui/ProgressBar"),byteProgress:t("./../framework/ui/ProgressBar"),fileLabel:cc.Label,byteLabel:cc.Label,info:cc.Label}}),cc._RF.pop()},{"./../framework/ui/ProgressBar":"ProgressBar"}],UpltvHelper:[function(t,e,n){"use strict";cc._RF.push(e,"41a16DjJLVAI7JimL0iu4o/","UpltvHelper");var o=t("UPLTV").upltv;cc.bridgeInterface=t("UPLTV").bridgeInterface;var i=cc.Class({statics:{initUpltv:function(t){o.initSdk(UPLTV_ANDROID_APPKEY,UPLTV_IOS_APPKEY,2,function(e){cc.log("===> js upltv intSdk result:, %s",e),t&&t(e)})},setloadRdADCb:function(){o.setRewardVideoLoadCallback(function(t,e){cc.log("===> js RewardVideo LoadCallback Success at: %s",t)},function(t,e){cc.log("===> js RewardVideo LoadCallback Fail at: %s",t)})},loadAndroidAdsByManual:function(){cc.bridgeInterface.loadAndroidAdsByManual()},rdADIsReady:function(){var t=o.isRewardReady();return cc.log("===> js isRewardReady r: %s",t.toString()),t},rdAdShow:function(t){o.setRewardVideoShowCallback(function(e,n){var i="unkown";e==o.AdEventType.VIDEO_EVENT_DID_SHOW?i="Did_Show":e==o.AdEventType.VIDEO_EVENT_DID_CLICK?i="Did_Click":e==o.AdEventType.VIDEO_EVENT_DID_CLOSE?(i="Did_Close",zy.AdHelper.resumeGame()):e==o.AdEventType.VIDEO_EVENT_DID_GIVEN_REWARD?(i="Did_Given_Reward",zy.httpProxy.watchAds(t),zy.AdHelper.onOpenAdsReward(t,!0)):e==o.AdEventType.VIDEO_EVENT_DID_ABANDON_REWARD&&(i="Did_Abandon_Reward",zy.AdHelper.onOpenAdsReward(t,!1)),cc.log("===> js RewardVideo Show Callback, event: %s, at: %s",i,n)});var e=o.isRewardReady();cc.log("===> js isRewardReady r: %s",e),1==e&&(cc.log("===> js showRewardVideo call"),o.showRewardVideo(t))},showRewardDebugUI:function(){o.showRewardDebugUI()},setInterstitialLoadCallback:function(t,e,n){o.setInterstitialLoadCallback(t,e,n)},isInterstitialReady:function(t){var e=o.isInterstitialReady(t);return cc.log("===> js isInterstitialReady ret: %s",e.toString()),e},showInterstitial:function(t,e){o.setInterstitialShowCallback(t,e),o.showInterstitialAd(t)},showInterstitialDebugUI:function(){o.showInterstitialDebugUI()}}});zy.UpltvHelper=i,cc._RF.pop()},{UPLTV:"UPLTV"}],UserData:[function(t,e,n){"use strict";cc._RF.push(e,"7336dHaZ0xCkJME+CeR/q9i","UserData"),cc.Class({ctor:function(){this.bestScore=0},saveData:function(){var t={},e=!0,n=!1,o=void 0;try{for(var i,s=Object.keys(this)[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var r=i.value;t[r]=this[r]}}catch(t){n=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw o}}var c=JSON.stringify(t);cc.sys.localStorage.setItem(zy.constData.StaticKey.PlayerDataKey+zy.constData.StaticKey.SaveDataVersion,c)},loadData:function(){var t=cc.sys.localStorage.getItem(zy.constData.StaticKey.PlayerDataKey+zy.constData.StaticKey.SaveDataVersion);if(t){t=JSON.parse(t);var e=!0,n=!1,o=void 0;try{for(var i,s=Object.keys(t)[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var r=i.value;this.hasOwnProperty(r)&&(this[r]=t[r])}}catch(t){n=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(n)throw o}}}}}),cc._RF.pop()},{}],UtilsOther:[function(t,e,n){"use strict";cc._RF.push(e,"f2c591y/+FA+qi5S+TkWGGf","UtilsOther");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=t("./../encrypt/Md5"),s=t("./CSVParser"),r=r||{};r.arrayRmObj=function(t,e){var n=t.indexOf(e);t.splice(n,1)},r.arrayPopByIdx=function(t,e){var n=t[e];return t.splice(e,1),n},r.valueInArray=function(t,e){for(var n=t.length,o=0;o<n;o++)if(t[o]==e)return!0;return!1},r.arrayRandomValue=function(t){var e=t.length;return e<=0?null:t[r.randomInteger(0,e-1)]},r.shuffle=function(t){var e=void 0,n=void 0,o=void 0;for(e=t.length-1;e>0;e--)n=Math.floor(Math.random()*(e+1)),o=t[e],t[e]=t[n],t[n]=o;return t},r.clearArrayValue=function(t,e,n){for(var o=0;o<e;o++)t[o]=n},r.createObjectWithArray=function(t,e){var n={};for(var o in t)n[t[o]]=e;return n},r.arrayToDict=function(t,e){var n={},o=null;for(var i in t)n[(o=t[i])[e]]=o;return n},r.dictToArray=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n]&&e.push(t[n]);return e},r.objectToArrayExcludeNumber=function(t,e,n){var o=void 0;o=isArray(e)?e:[];var i=void 0;if(isNumber(n)){var s=n.toString();for(i in t)t.hasOwnProperty(i)&&t[i]&&s!=i&&o.push(t[i])}else for(i in t)t.hasOwnProperty(i)&&t[i]&&o.push(t[i]);return o},r.splitWithValueType=function(t,e,n){void 0===n&&(n=",");var o=t.split(n);return o.forEach(function(t,n,o){try{o[n]=e(t)}catch(t){o[n]=null}}),o},r.time=function(){return parseInt(Date.now()/1e3)},r.time2second=function(t,e,n,o,i,s){var r=new Date(t,e-1,n,o,i,s).getTime();return parseInt(r/1e3)},r.getTimeAfterDays=function(t,e){cc.assert(t,"getTimeForDayAfterDays:time is null!");var n=null;return n=cc.isNumber(t)?new Date(1e3*t):new Date(t),new Date(n.getTime()+24*e*60*60*1e3)},r.getDaysDiff=function(t,e){var n;cc.assert(t&&e,"getDaysDiff: date must be not null!"),t=r.isNumber(t)?new Date(1e3*t):new Date(t),e=r.isNumber(e)?new Date(1e3*e):new Date(e);var o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),i=new Date(e.getFullYear(),e.getMonth(),e.getDate());return n=parseInt(Math.abs(i-o)/1e3/60/60/24),n*=i>=o?1:-1},r.getTimeForDay=function(t){return(t=t?cc.isNumber(t)?new Date(1e3*t):new Date(t):new Date).getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())},r.formatTime=function(t){var e=void 0;if(t>=0){var n=Math.floor(t/3600),o=Math.floor(t/60)%60,i=t%60,s=parseInt(n/24);if(1==s)return s+" day";if(s>1)return s+" days";e=s>0?s+"day "+("00"+(n-=24*s)).slice(-2)+":":n>0?("00"+n).slice(-2)+":":"",o<10&&(e+="0"),e+=o+":",i<10&&(e+="0"),e+=parseInt(i)}return e},r.getThousandSeparatorString=function(t){var e=t.toString().split("").reverse().join("").replace(/(\d{3}(?=\d)(?!\d+\.|$))/g,"$1,").split("").reverse().join(""),n=e.indexOf(".");return n>=0&&(e=e.substring(0,n+2)),e},r.getKMBString=function(t){return this.isNumber(t)?t/1e9>=1?this.getThousandSeparatorString(t/1e9)+"B":t/1e6>=1?this.getThousandSeparatorString(t/1e6)+"M":t/1e4>=1?this.getThousandSeparatorString(t/1e3)+"K":this.getThousandSeparatorString(t):t},r.getLastCutOffDay=function(t,e){var n=e-t;return n<0?-1:n=parseInt(n/86400)},r._dumpObject=function(t,e,n,o,i,s){if(!(r.D(s)&&n>s)){var c=void 0,a=void 0,l=void 0,u=void 0,d=void 0;switch(Object.prototype.toString.call(e).slice(8,-1)){case"Number":case"String":c='"'+e.toString()+'"',t&&(c=t+c),y(c,n,o);break;case"Undefined":c="UNDEFINED!",t&&(c=t+c),y(c,n,o);break;case"Boolean":c=e.toString(),t&&(c=t+c),y(c,n,o);break;case"Object":c="{",t&&(c=t+c),y(c,n,o);var h=void 0;for(h in e)e.hasOwnProperty(h)&&(l='"'+h+'" : ',a=(t?t.length:0)-2+o,_dumpObject(l,e[h],n+1,a,i,s));if(c="}",(u=t?t.length:0)>0){d="";var f=void 0;for(f=0;f<u;++f)d+=" ";c=d+c}y(c,n,o);break;case"Array":c="[",t&&(c=t+c),y(c,n,o);var p=void 0;for(p=0;p<e.length;++p)l=p+" : ",a=(t?t.length:0)-2+o,_dumpObject(l,e[p],n+1,a,i,s);if(c="]",(u=t?t.length:0)>0){d="";var g=void 0;for(g=0;g<u;++g)d+=" ";c=d+c}y(c,n,o);break;case"Function":i||(c=function(t){return t.toString().replace(/function\s?/im,"").split(")")[0]+")"}(e),t&&(c=t+c),y(c,n,o))}}function y(t,e,n){for(;e>0;)t="  "+t,--e;if(n>0){var o="",i=void 0;for(i=0;i<n;++i)o+=" ";t=o+t}cc.log(t)}},r.dumpObject=function(t,e,n){r._dumpObject(void 0,t,0,0,e||!1,n)},r.D=function(t){return void 0!==t},r.DNN=function(t){return void 0!==t&&null!==t},r.isFunction=function(t){return"function"==typeof t},r.isNumber=function(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)},r.isString=function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},r.isArray=function(t){return Array.isArray(t)||"object"===(void 0===t?"undefined":o(t))&&"[object Array]"===Object.prototype.toString.call(t)},r.isUndefined=function(t){return void 0===t},r.isObject=function(t){return"object"===(void 0===t?"undefined":o(t))&&"[object Object]"===Object.prototype.toString.call(t)},r.isEmpty=function(t){return Array.isArray(t)&&0===t.length||Object.prototype.isPrototypeOf(t)&&0===Object.keys(t).length},r.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===Object.prototype.toString.call(t)},r.clone=function(t,e){e||(e=t.constructor?new t.constructor:{});var n=void 0,i=void 0;for(n in t)t.hasOwnProperty(n)&&("object"===(void 0===(i=t[n])?"undefined":o(i))&&i?e[n]=r.clone(i,null):e[n]=i);return e},r.getStringFromFile=function(e){return cc.sys.isNative?jsb.fileUtils.getStringFromFile(e):function(e){if(cc._isNodeJs)return t("fs").readFileSync(e).toString();var n=this.getXMLHttpRequest();return n.timeout=0,n.open("GET",e,!1),/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent)?n.setRequestHeader("Accept-Charset","utf-8"):n.overrideMimeType&&n.overrideMimeType("text/plain; charset=utf-8"),n.send(null),4===!n.readyState||200!==n.status?null:n.responseText}.bind(cc.loader)(e)},r.getSegmentsInter=function(t,e,n,o){var i=e.y-t.y,s=t.x-e.x,r=o.y-n.y,c=n.x-o.x,a=i*c-s*r;if(0==a)return!1;var l=r*n.x+c*n.y,u=r*t.x+c*t.y-l;if(u*(r*e.x+c*e.y-l)>=0)return!1;var d=i*t.x+s*t.y;if((i*n.x+s*n.y-d)*(i*o.x+s*o.y-d)>=0)return!1;var h=u/a,f=h*s,p=-h*i;return{x:t.x+f,y:t.y+p}},r.getDistance=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},r.loadRemoteImg=function(t,e){if(cc.sys.isBrowser)return cc.log("Remote img load web"),void cc.loader.load(t,function(t){cc.log("Remote img load progress:"+t)},function(t,n){t?cc.log("Remote img load error:"+t):(cc.log("Remote img load success."),e(n))});cc.log("Remote img load: native");var n=jsb.fileUtils.getWritablePath()+"img/",s=n+i.md5_hex(t)+".png";function r(){cc.loader.load(s,function(t,n){t?cc.error(t):e(n)})}if(jsb.fileUtils.isFileExist(s))return cc.log("Remote is find"+s),void r();var c=function(t){cc.log(void 0===t?"undefined":o(t)),cc.log(t);var e=new Uint8Array(t);cc.log(void 0===e?"undefined":o(e)),cc.log(e.length),void 0!==t?(jsb.fileUtils.isDirectoryExist(n)||jsb.fileUtils.createDirectory(n),cc.log("111111"+s),jsb.fileUtils.writeDataToFile(new Uint8Array(t),s)?(cc.log("Remote img save succeed."),cc.log("22222"),r()):cc.log("Remote img save failed.")):cc.log("Remote img download failed.")},a=new XMLHttpRequest;a.onreadystatechange=function(){cc.log("xhr.readyState  "+a.readyState),cc.log("xhr.status  "+a.status),4===a.readyState&&(200===a.status?(a.responseType="arraybuffer",c(a.response)):c(null))}.bind(this),a.open("GET",t,!0),a.send()},r.checkTouchIsHit=function(t,e){return cc.rectContainsPoint(e.getBoundingBoxToWorld(),t)},r.createCliper=function(t){var e=new cc.Sprite(t),n=new cc.ClippingNode;return n.attr({stencil:e,anchorX:.5,anchorY:.5,alphaThreshold:.8}),n},r.convertBoundingBoxToWorld=function(t){if(!t)return cc.rect();var e=t.convertToWorldSpace(cc.p()),n=t.convertToWorldSpace(cc.pFromSize(t.getContentSize()));return cc.rect(e.x,e.y,n.x-e.x,n.y-e.y)},r.getPositionByAnchor=function(t,e){if(!t)return cc.p();var n=t.getBoundingBox();return n.x+=n.width*e.x,n.y+=n.height*e.y,cc.p(n.x,n.y)},r.runShakeAction=function(t,e,n){t.runAction(cc.repeat(cc.sequence(cc.moveBy(.02,cc.p(0,e)),cc.moveBy(.04,cc.p(0,2*-e)),cc.moveBy(.02,cc.p(0,e))),n))},r.randomByWeight=function(t,e){if(!r.isArray(t)||!r.isString(e))return null;var n=0;n=t.reduce(function(t,n){return t+=n[e]},n),cc.log("sumWeight:"+n);var o=0,i=Math.random()*n,s=null;for(var c in t)if(i<(o+=(s=t[c])[e]))return s;return s},r.randomInteger=function(t,e){return t+Math.round((e-t)*Math.random())},r.parse=function(t,e){for(var n=new s(t,e),o=[];n.hasNext();){var i=n.nextRow();o.push(i)}return o},r.parseOneLine=function(t,e){for(var n=new s(t,e),o=[];n.hasNext();){var i=n.nextRow();o.push(i)}return o.length<=1?o[0]:o},r.bindColumns=function(t,e,n){return e||(e=t.shift()),t.map(function(t){for(var o={},i=0;i<t.length;i++)o[e[i]]=n?isNaN(t[i])?t[i]:Number(t[i]):t[i];return o})},r.bindColumnsSimple=function(t,e){return e||(e=t.shift()),t.map(function(t){for(var n={},o=0;o<t.length;o++)n[e[o]]=CSV.parseOneSimple(t[o]);return n})},e.exports=r,cc._RF.pop()},{"./../encrypt/Md5":"Md5","./CSVParser":"CSVParser",fs:void 0}],en:[function(t,e,n){"use strict";cc._RF.push(e,"920c5VLzJxKjYCAoIUwUHym","en"),e.exports={short_coins:"Shortage of starcores",no_ad:"No advertising",time_error:"Local time error",max_counts:"Insufficient number of collections",max_level:"Already maximum level",net_error:"Network Error",start:"START",up_star:"Turret Evolution",dmg:"DMG",need_two:"Please build two new weapons, use oh",short_time:"Insufficient time",counts_remain:"Remaining today: ",sound:"Sounds",vibrate:"Vibration",ph_get:"Get",collect:"Collect",revive:"Revive",tip_free_coins_max:"Reached max number",btn_ok:"OK",btn_cancle:"Cancle"},cc._RF.pop()},{}],i18n:[function(t,e,n){"use strict";cc._RF.push(e,"93789C/shtIL6entYsZPjee","i18n");var o=t("polyglot"),i=cc.sys.language;cc.log("====lang: ",i),"zh"!==i&&(i="en");var s=t(i),r=new o({phrases:s,allowMissing:!0});e.exports={init:function(e){s=t(i=e),r.replace(s)},t:function(t,e){return r.t(t,e)}},cc._RF.pop()},{polyglot:"polyglot"}],polyglot:[function(t,e,n){(function(t){"use strict";cc._RF.push(e,"69decSgpRlE1rzEKp0RzG3V","polyglot");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,i){"function"==typeof define&&define.amd?define([],function(){return i(t)}):"object"===(void 0===n?"undefined":o(n))?e.exports=i(t):t.Polyglot=i(t)})(void 0!==t?t:void 0,function(t){var e=String.prototype.replace;function n(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||y}n.VERSION="1.0.0",n.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},n.prototype.extend=function(t,e){var n;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],e&&(i=e+"."+i),"object"===(void 0===n?"undefined":o(n))?this.extend(n,i):this.phrases[i]=n)},n.prototype.unset=function(t,e){var n;if("string"==typeof t)delete this.phrases[t];else for(var i in t)t.hasOwnProperty(i)&&(n=t[i],e&&(i=e+"."+i),"object"===(void 0===n?"undefined":o(n))?this.unset(n,i):delete this.phrases[i])},n.prototype.clear=function(){this.phrases={}},n.prototype.replace=function(t){this.clear(),this.extend(t)},n.prototype.t=function(t,e){var n,o;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:this.allowMissing?n=t:(this.warn('Missing translation for key: "'+t+'"'),o=t),"string"==typeof n&&(e=v(e),o=g(o=u(n,this.currentLocale,e.smart_count),e)),o},n.prototype.has=function(t){return t in this.phrases};var i="||||",s={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},r={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs","sk"],polish:["pl"],icelandic:["is"]};function c(t){var e,n,o,i={};for(e in t)if(t.hasOwnProperty(e))for(o in n=t[e])i[n[o]]=e;return i}var a=/^\s+|\s+$/g;function l(t){return e.call(t,a,"")}function u(t,e,n){var o;return null!=n&&t?l((o=t.split(i))[h(e,n)]||o[0]):t}function d(t){var e=c(r);return e[t]||e.en}function h(t,e){return s[d(t)](e)}var f=/\$/g,p="$$$$";function g(t,n){for(var o in n)if("_"!==o&&n.hasOwnProperty(o)){var i=n[o];"string"==typeof i&&(i=e.call(n[o],f,p)),t=e.call(t,new RegExp("%\\{"+o+"\\}","g"),i)}return t}function y(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}function v(t){var e={};for(var n in t)e[n]=t[n];return e}return n}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],zh:[function(t,e,n){"use strict";cc._RF.push(e,"87f1fs0gohHDIfNg4aePXbt","zh"),e.exports={hero_yoke_heroInfo:"\u540c\u65f6\u4e0a\u9635\u6b66\u5c06\u5747\u8fbe\u5230%{num}\u661f",hero_yoke_treasureInfo_1:"%{num}\u661f%{hero}",hero_yoke_treasureInfo_3:"%{star}\u661f%{treasure}",conquest_level_node_tips:"\u5173\u5361%{level}\u672a\u89e3\u9501",conquest_tower_unlock:"\u901a\u8fc7\u5173\u5361%{level}\u5f00\u542f\u70fd\u706b\u53f0",short_coins:"\u91d1\u5e01\u4e0d\u8db3",no_ad:"\u6ca1\u6709\u53ef\u7528\u5e7f\u544a",time_error:"\u672c\u673a\u65f6\u95f4\u9519\u8bef",max_counts:"\u9886\u53d6\u6b21\u6570\u6700\u5927\u503c",max_level:"\u5df2\u8fbe\u5230\u6700\u5927\u7b49\u7ea7",net_error:"\u7f51\u7edc\u9519\u8bef",start:"\u5f00\u59cb\u6e38\u620f",up_star:"\u70ae\u5854\u5347\u661f",dmg:"\u706b\u529b",need_two:"\u8bf7\u8fd4\u56de\u4e3b\u754c\u9762\u518d\u5efa\u9020\u4e00\u4e2a\u70ae\u5854",short_time:"\u5269\u4f59\u53ef\u7528\u65f6\u95f4\u4e0d\u8db3",counts_remain:"\u4eca\u65e5\u5269\u4f59\u6b21\u6570: ",sound:"\u97f3\u4e50\u97f3\u6548",vibrate:"\u5c04\u51fb\u9707\u52a8",ph_get:"\u514d\u8d39",collect:"\u6536\u96c6",revive:"\u590d\u6d3b\u7ee7\u7eed",tip_free_coins_max:"\u5f53\u65e5\u9886\u53d6\u5df2\u8fbe\u6700\u5927\u6b21\u6570",btn_ok:"\u786e\u5b9a",btn_cancle:"\u53d6\u6d88"},cc._RF.pop()},{}]},{},["Cell","ClientConfig","NodePoolMng","ConstData","DataBase","DataMng","LevelData","UserData","Alert","Audio","ButtonSafe","CSVParser","CornerMng","Device","Director","Guide","ImageLoader","Loading","ShaderUtils","Tip","Turning","UI","UtilsOther","Algo","Encrypt","Md5","en","zh","i18n","polyglot","GameHttp","HttpProxy","GameNetwork","GameProtocols","GameWebSocket","NetProxy","AFLogger","AdHelper","FBLogger","LoggerHelper","OpenAdsHelper","PlatformUtils","RangerLogger","TrackingLogger","UPLTV","UPLTVAndroid","UPLTVIos","UpltvHelper","Button","Label","LabelInteger","ListView","Node","PopBase","ProgressBar","ProgressCircle","Sprite","SwitchControl","HotUpdate","UpdatePanel","DebugPop","SettingPop","GameScene","InitScene","TestScene"]);